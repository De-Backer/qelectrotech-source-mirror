<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QElectroTech: elementscene.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QElectroTech
   &#160;<span id="projectnumber">0.80</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li><li class="navelem"><a class="el" href="../../dir_e753a57b7631dda400e87b020d1791b7.html">editor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">elementscene.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d64/elementscene_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">    Copyright 2006-2020 The QElectroTech Team</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    This file is part of QElectroTech.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    QElectroTech is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    the Free Software Foundation, either version 2 of the License, or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">    (at your option) any later version.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">    QElectroTech is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    along with QElectroTech.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/df0/elementscene_8h.html">elementscene.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dc5/qetelementeditor_8h.html">qetelementeditor.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d75/elementprimitivedecorator_8h.html">elementprimitivedecorator.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d53/partline_8h.html">partline.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d26/partrectangle_8h.html">partrectangle.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/dda/partellipse_8h.html">partellipse.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d70/partpolygon_8h.html">partpolygon.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/de5/partterminal_8h.html">partterminal.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d6a/parttext_8h.html">parttext.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d67/partarc_8h.html">partarc.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d20/editorcommands_8h.html">editorcommands.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d17/elementcontent_8h.html">elementcontent.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d5d/elementpropertieseditorwidget_8h.html">ui/elementpropertieseditorwidget.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dc9/eseventinterface_8h.html">eseventinterface.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d91/qetgraphicshandleritem_8h.html">QetGraphicsItemModeler/qetgraphicshandleritem.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d50/partdynamictextfield_8h.html">partdynamictextfield.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d34/qpropertyundocommand_8h.html">QPropertyUndoCommand/qpropertyundocommand.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d83/namelistdialog_8h.html">namelistdialog.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/de3/namelistwidget_8h.html">namelistwidget.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;QKeyEvent&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a242049a34705215bd2b3a16520174d62">   51</a></span>&#160;<a class="code" href="../../dc/d39/classElementScene.html#a242049a34705215bd2b3a16520174d62">ElementScene::ElementScene</a>(<a class="code" href="../../dc/d67/classQETElementEditor.html">QETElementEditor</a> *editor, QObject *parent) :</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    QGraphicsScene(parent),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    m_elmt_type(<span class="stringliteral">&quot;simple&quot;</span>),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    m_qgi_manager(this),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    m_element_editor(editor)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    setItemIndexMethod(QGraphicsScene::NoIndex);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">//Set to no index, because they can be the source of the crash with conductor and shape ghost.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">//https://forum.qt.io/topic/71316/qgraphicsscenefinditembsptreevisitor-visit-crashes-due-to-an-obsolete-paintevent-after-qgraphicsscene-removeitem</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">//https://stackoverflow.com/questions/38458830/crash-after-qgraphicssceneremoveitem-with-custom-item-class</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">//http://www.qtcentre.org/archive/index.php/t-33730.html</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">//http://tech-artists.org/t/qt-properly-removing-qgraphicitems/3063</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> = <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cbac857dcec2d374ab792f35188da94bb8f">Normal</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    setItemIndexMethod(NoIndex);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a8133ab486575010a03d380985146d8af">setGrid</a>(1, 1);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a4bbee5837c360a8e85a6caf63b3c7220">initPasteArea</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">m_undo_stack</a>.setClean();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#ad408cfafce006d27e87087a4f40d44e8">m_decorator_lock</a> = <span class="keyword">new</span> QMutex(QMutex::NonRecursive);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    connect(&amp;<a class="code" href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">m_undo_stack</a>, SIGNAL(indexChanged(<span class="keywordtype">int</span>)),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">this</span>, SLOT(<a class="code" href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c">managePrimitivesGroups</a>()));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    connect(<span class="keyword">this</span>, SIGNAL(selectionChanged()),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keyword">this</span>, SLOT(<a class="code" href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c">managePrimitivesGroups</a>()));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a123e6f48bd6cfba0b9606efdfc92aae9">   79</a></span>&#160;<a class="code" href="../../dc/d39/classElementScene.html#a123e6f48bd6cfba0b9606efdfc92aae9">ElementScene::~ElementScene</a>()</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">//Disconnect to avoid crash, see bug report N° 122.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    disconnect(&amp;<a class="code" href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">m_undo_stack</a>, SIGNAL(indexChanged(<span class="keywordtype">int</span>)),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;           <span class="keyword">this</span>, SLOT(<a class="code" href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c">managePrimitivesGroups</a>()));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#ad408cfafce006d27e87087a4f40d44e8">m_decorator_lock</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a06d8730a15d1421d2b951d51a39ddf72">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a06d8730a15d1421d2b951d51a39ddf72">ElementScene::mouseMoveEvent</a>(QGraphicsSceneMouseEvent *e) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a06d8730a15d1421d2b951d51a39ddf72">mouseMoveEvent</a>(e)) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">isFinish</a>()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                emit(<a class="code" href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">partsAdded</a>());</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    QPointF event_pos = e -&gt; scenePos();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (!(e -&gt; modifiers() &amp; Qt::ControlModifier))</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        event_pos = <a class="code" href="../../dc/d39/classElementScene.html#a514dd2042f9a612fe5f9252b5f50b541">snapToGrid</a>(event_pos);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> == <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cba4c2318aca6f00a0a424e00f5466d8b9b">PasteArea</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        QRectF current_rect(<a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; rect());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        current_rect.moveCenter(event_pos);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; setRect(current_rect);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    QGraphicsScene::mouseMoveEvent(e);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a959201929569e19b5ffd8cdd63d71bd5">  128</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a959201929569e19b5ffd8cdd63d71bd5">ElementScene::mousePressEvent</a>(QGraphicsSceneMouseEvent *e) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a959201929569e19b5ffd8cdd63d71bd5">mousePressEvent</a>(e)) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">isFinish</a>()) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                emit(<a class="code" href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">partsAdded</a>());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    QGraphicsScene::mousePressEvent(e);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a999b13d910ee39c5ffacafce6db2ff7d">  147</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a999b13d910ee39c5ffacafce6db2ff7d">ElementScene::mouseReleaseEvent</a>(QGraphicsSceneMouseEvent *e) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a999b13d910ee39c5ffacafce6db2ff7d">mouseReleaseEvent</a>(e)) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">isFinish</a>()) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                emit(<a class="code" href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">partsAdded</a>());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> == <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cba4c2318aca6f00a0a424e00f5466d8b9b">PasteArea</a>) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a2e72a0e10ac24b228711adfe5b82c67d">m_defined_paste_area</a> = <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; rect();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        removeItem(<a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        emit(<a class="code" href="../../dc/d39/classElementScene.html#a38d64c732d249ff8946de29b96a8e4bb">pasteAreaDefined</a>(<a class="code" href="../../dc/d39/classElementScene.html#a2e72a0e10ac24b228711adfe5b82c67d">m_defined_paste_area</a>));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> = <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cbac857dcec2d374ab792f35188da94bb8f">Normal</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    QGraphicsScene::mouseReleaseEvent(e);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a3913080979a472001e283051abf5d632">  174</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a3913080979a472001e283051abf5d632">ElementScene::mouseDoubleClickEvent</a>(QGraphicsSceneMouseEvent *event) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a3913080979a472001e283051abf5d632">mouseDoubleClickEvent</a>(event)) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">isFinish</a>()) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                emit(<a class="code" href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">partsAdded</a>());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    QGraphicsScene::mouseDoubleClickEvent(event);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a3088861e08280a27d6f3387eea6dea6e">  194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a3088861e08280a27d6f3387eea6dea6e">ElementScene::keyPressEvent</a>(QKeyEvent *event)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a3088861e08280a27d6f3387eea6dea6e">keyPressEvent</a>(event))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">isFinish</a>())</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                emit(<a class="code" href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">partsAdded</a>());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span>(selectedItems().size() == 1)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span>(selectedItems().first()-&gt;type() == <a class="code" href="../../db/db1/classPartText.html#a5201ade558430116c7589a9379464ef0ab96b8e45191ed836f7acb6ea67064bfc">PartText::Type</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <a class="code" href="../../db/db1/classPartText.html">PartText</a> *t = <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/db1/classPartText.html">PartText</a> *<span class="keyword">&gt;</span>(selectedItems().first());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span>(t-&gt;textInteractionFlags() &amp; Qt::TextEditorInteraction)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                QGraphicsScene::keyPressEvent(event);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        QGraphicsObject *qgo = selectedItems().first()-&gt;toGraphicsObject();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span>(qgo)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        QPointF original_pos = qgo-&gt;pos();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        QPointF p = qgo-&gt;pos();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (event-&gt;modifiers() &amp; Qt::ControlModifier) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordtype">int</span> k = <span class="keyword">event</span>-&gt;key();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span>(k == Qt::Key_Right)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                p.rx() += 0.1;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Left)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                p.rx() -= 0.1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Up)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                p.ry() -= 0.1;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Down)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                p.ry() += 0.1;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordtype">int</span> k = <span class="keyword">event</span>-&gt;key();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">if</span>(k == Qt::Key_Right)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                p.rx() += 1;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Left)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                p.rx() -= 1;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Up)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                p.ry() -= 1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (k == Qt::Key_Down)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                p.ry() += 1;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            qgo-&gt;setPos(p);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <a class="code" href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a> *undo =</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <span class="keyword">new</span> <a class="code" href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a>(qgo,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                 <span class="stringliteral">&quot;pos&quot;</span>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                 QVariant(original_pos),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                 QVariant(p));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            undo-&gt;setText(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Déplacer une primitive&quot;</span>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            undo-&gt;<a class="code" href="../../df/d51/classQPropertyUndoCommand.html#a62c22eb056d39243310db052e1b115fc">enableAnimation</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(undo);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keyword">event</span>-&gt;accept();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    QGraphicsScene::keyPressEvent(event);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a51410877e8aff37d8710f3970671135b">  275</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a51410877e8aff37d8710f3970671135b">ElementScene::contextMenuEvent</a>(QGraphicsSceneContextMenuEvent *event)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    QGraphicsScene::contextMenuEvent(event);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span>(event-&gt;isAccepted())</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> == <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cbac857dcec2d374ab792f35188da94bb8f">ElementScene::Normal</a>)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a> -&gt; contextMenu(event-&gt;screenPos());</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a3af3be14b7b65c64de4d1a251f63b310">  294</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a3af3be14b7b65c64de4d1a251f63b310">ElementScene::drawForeground</a>(QPainter *p, <span class="keyword">const</span> QRectF &amp;rect) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    Q_UNUSED(rect);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    p -&gt; save();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// desactive tout antialiasing, sauf pour le texte</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    p -&gt; setRenderHint(QPainter::Antialiasing, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    p -&gt; setRenderHint(QPainter::TextAntialiasing, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    p -&gt; setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    QPen pen(Qt::red);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    pen.setCosmetic(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    p -&gt; setPen(pen);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    p -&gt; setBrush(Qt::NoBrush);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    p -&gt; drawLine(-20, 0, 20, 0);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    p -&gt; drawLine(0, -20, 0, 20);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    p -&gt; restore();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a80a3a72df77d40b140379065a397ef2c">  317</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a80a3a72df77d40b140379065a397ef2c">ElementScene::setEventInterface</a>(<a class="code" href="../../d6/d81/classESEventInterface.html">ESEventInterface</a> *event_interface)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">//We must to re-init because previous interface</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">//Reset his own init when deleted</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        event_interface-&gt;<a class="code" href="../../d6/d81/classESEventInterface.html#a84cd2d522bccb0e0c4ccc6d386a1e8ad">init</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = event_interface;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a97a656c3501d53578385266fb55931d7">  333</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a97a656c3501d53578385266fb55931d7">ElementScene::clearEventInterface</a>()</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">m_event_interface</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a959a2777728711b571fb098ca024d680">  348</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a959a2777728711b571fb098ca024d680">ElementScene::setBehavior</a>(<a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cb">ElementScene::Behavior</a> b) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> = b;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a24a211d890081819291bb8f1b7627587">  352</a></span>&#160;<a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cb">ElementScene::Behavior</a> <a class="code" href="../../dc/d39/classElementScene.html#a24a211d890081819291bb8f1b7627587">ElementScene::behavior</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#ad99e35c5e2967b51343bebf2017915b5">  361</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dc/d39/classElementScene.html#ad99e35c5e2967b51343bebf2017915b5">ElementScene::xGrid</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../dc/d39/classElementScene.html#a85655df78cc5e75aba310f2134a7125f">m_x_grid</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a66dd809b234740751895bf8c23d4363e">  370</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dc/d39/classElementScene.html#a66dd809b234740751895bf8c23d4363e">ElementScene::yGrid</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../dc/d39/classElementScene.html#a761158cfea0f93492d2a4945077a5aca">m_y_grid</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a8133ab486575010a03d380985146d8af">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a8133ab486575010a03d380985146d8af">ElementScene::setGrid</a>(<span class="keywordtype">int</span> x_g, <span class="keywordtype">int</span> y_g) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a85655df78cc5e75aba310f2134a7125f">m_x_grid</a> = x_g ? x_g : 1;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a761158cfea0f93492d2a4945077a5aca">m_y_grid</a> = y_g ? y_g : 1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a16f4183a62e96a3ea2988bb2e31e148f">  394</a></span>&#160;<span class="keyword">const</span> QDomDocument <a class="code" href="../../dc/d39/classElementScene.html#a16f4183a62e96a3ea2988bb2e31e148f">ElementScene::toXml</a>(<span class="keywordtype">bool</span> all_parts)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    QRectF size= <a class="code" href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">elementSceneGeometricRect</a>();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// if the element doesn&#39;t contains the origin point of the scene</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// we move the element to the origin for solve this default before saving</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (!size.contains(0,0) &amp;&amp; all_parts)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a7595c1ef4832c64714b5d2edda87ca2f">centerElementToOrigine</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="comment">//recalcul the size after movement</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        size = <a class="code" href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">elementSceneGeometricRect</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// define the size of the element by the upper multiple of 10</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordtype">int</span> upwidth = ((qRound(size.width())/10)*10)+10;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> ((qRound(size.width())%10) &gt; 6)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        upwidth += 10;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordtype">int</span> upheight = ((qRound(size.height())/10)*10)+10;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> ((qRound(size.height())%10) &gt; 6)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        upheight += 10;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// the margin between the real size of the element and the rectangle that delimits</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">int</span> xmargin = qRound(upwidth - size.width());</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">int</span> ymargin = qRound(upheight - size.height());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// document XML</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    QDomDocument xml_document;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">//Root of xml document</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    QDomElement root = xml_document.createElement(<span class="stringliteral">&quot;definition&quot;</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;type&quot;</span>,        <span class="stringliteral">&quot;element&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;width&quot;</span>,       QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(upwidth));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;height&quot;</span>,      QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(upheight));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;hotspot_x&quot;</span>,   QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                  -(qRound(size.x() - (xmargin/2)))));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;hotspot_y&quot;</span>,   QString(<span class="stringliteral">&quot;%1&quot;</span>).arg(</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                  -(qRound(size.y() - (ymargin/2)))));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#pragma message(&quot;@TODO remove this code? the orientation for element&quot;)</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// we keep the orientation for compatibility with previous version of qet</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;orientation&quot;</span>, <span class="stringliteral">&quot;dyyy&quot;</span>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;version&quot;</span>, <a class="code" href="../../d3/d9a/namespaceQET.html#a6120189feb0f6f9f03670651c4f561b5">QET::version</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    root.setAttribute(<span class="stringliteral">&quot;link_type&quot;</span>, <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">//Uuid used to compare two elements</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    QDomElement uuid = xml_document.createElement(<span class="stringliteral">&quot;uuid&quot;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    uuid.setAttribute(<span class="stringliteral">&quot;uuid&quot;</span>, QUuid::createUuid().toString());</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    root.appendChild(uuid);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">//names of element</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    root.appendChild(<a class="code" href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">m_names_list</a>.<a class="code" href="../../dc/d0a/classNamesList.html#a9c6cd8862570bb65e96c6186158d0b75">toXml</a>(xml_document));</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> == <span class="stringliteral">&quot;slave&quot;</span> || <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> == <span class="stringliteral">&quot;master&quot;</span>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        QDomElement kindInfo = xml_document.createElement(<span class="stringliteral">&quot;kindInformations&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#ad4c42759e42ff7acc8665e8bfb62a742">m_elmt_kindInfo</a>.<a class="code" href="../../d8/d0e/classDiagramContext.html#a3823c5ca609be01afa5e5096e20a653e">toXml</a>(kindInfo, <span class="stringliteral">&quot;kindInformation&quot;</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        root.appendChild(kindInfo);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span>(</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> == <span class="stringliteral">&quot;simple&quot;</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            || <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> == <span class="stringliteral">&quot;master&quot;</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            || <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> == <span class="stringliteral">&quot;terminal&quot;</span>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        QDomElement element_info = xml_document.createElement(<span class="stringliteral">&quot;elementInformations&quot;</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a>.<a class="code" href="../../d8/d0e/classDiagramContext.html#a3823c5ca609be01afa5e5096e20a653e">toXml</a>(element_info, <span class="stringliteral">&quot;elementInformation&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        root.appendChild(element_info);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">//complementary information about the element</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    QDomElement informations_element = xml_document.createElement(<span class="stringliteral">&quot;informations&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    root.appendChild(informations_element);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    informations_element.appendChild(xml_document.createTextNode(<a class="code" href="../../dc/d39/classElementScene.html#af7510397f99d46998a997a72f49e29b9">informations</a>()));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    QDomElement description = xml_document.createElement(<span class="stringliteral">&quot;description&quot;</span>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">//the graphic description of the element</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi, <a class="code" href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">zItems</a>())</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">//If the export concerns only the selection, the not selected part is ignored</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">if</span> (!all_parts &amp;&amp; !qgi -&gt; isSelected()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *ce = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *<span class="keyword">&gt;</span>(qgi))</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span> (ce -&gt; isUseless()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            description.appendChild(ce -&gt; <a class="code" href="../../dc/d39/classElementScene.html#a16f4183a62e96a3ea2988bb2e31e148f">toXml</a>(xml_document));</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    root.appendChild(description);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    xml_document.appendChild(root);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span>(xml_document);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a92253ebe968e0835580d57cfac5467a6">  496</a></span>&#160;QRectF <a class="code" href="../../dc/d39/classElementScene.html#a92253ebe968e0835580d57cfac5467a6">ElementScene::boundingRectFromXml</a>(<span class="keyword">const</span> QDomDocument &amp;xml_document) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// load parts from XML document</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// charge les parties depuis le document XML</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> loaded_content = <a class="code" href="../../dc/d39/classElementScene.html#a32ca48682f0648be7e22a470c0148c03">loadContent</a>(xml_document);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (loaded_content.isEmpty()) <span class="keywordflow">return</span>(QRectF());</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// calcule the boundingRect</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// calcule le boundingRect</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    QRectF bounding_rect = <a class="code" href="../../dc/d39/classElementScene.html#a2821ebd1bdd60dbb95840aef0399c1f8">elementContentBoundingRect</a>(loaded_content);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// destroy charged parties</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// detruit les parties chargees</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    qDeleteAll(loaded_content);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span>(bounding_rect);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a3f40cdd5ae47ab8bdd1ad28ecbfedc06">  537</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a3f40cdd5ae47ab8bdd1ad28ecbfedc06">ElementScene::fromXml</a>(<span class="keyword">const</span> QDomDocument &amp;xml_document,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;               <span class="keyword">const</span> QPointF &amp;position,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;               <span class="keywordtype">bool</span> consider_informations,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;               <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> *content_ptr)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">bool</span> state = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">//Consider the informations of the element</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (consider_informations) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        state = <a class="code" href="../../dc/d39/classElementScene.html#a75a10a9536448997c08a698e4b4bfc6c">applyInformations</a>(xml_document);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (state)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> loaded_content = <a class="code" href="../../dc/d39/classElementScene.html#a32ca48682f0648be7e22a470c0148c03">loadContent</a>(xml_document);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span> (position != QPointF())</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#ad46862fc1a21cd68f4c0e8d60ca96bea">addContentAtPos</a>(loaded_content, position);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#ad39c873e6a5dd0b79f136bd0745fb4a2">addContent</a>(loaded_content);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (content_ptr)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            *content_ptr = loaded_content;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">  569</a></span>&#160;QRectF <a class="code" href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">ElementScene::elementSceneGeometricRect</a>()<span class="keyword"> const</span>{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    QRectF esgr;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">foreach</span> (QGraphicsItem *qgi, items()) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> (qgi-&gt;type() == <a class="code" href="../../d0/dda/classElementPrimitiveDecorator.html#ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9">ElementPrimitiveDecorator::Type</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span> (qgi-&gt;type() == QGraphicsRectItem::Type) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (qgi-&gt;type() == <a class="code" href="../../d1/db3/classPartDynamicTextField.html#ae1f04b86ecddeed7a8056991248bd6caac65d5e23de18b94d0243fede04497be5">PartDynamicTextField::Type</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *cep = <span class="keyword">dynamic_cast &lt;</span><a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a>*<span class="keyword">&gt;</span> (qgi)) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            esgr |= cep -&gt; sceneGeometricRect();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> (esgr);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a3f685440f22285927fd399a2b737ce66">  589</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d39/classElementScene.html#a3f685440f22285927fd399a2b737ce66">ElementScene::containsTerminals</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi,items()) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span> (qgraphicsitem_cast&lt;PartTerminal *&gt;(qgi)) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">return</span>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">  603</a></span>&#160;QUndoStack &amp;<a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">ElementScene::undoStack</a>() {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">m_undo_stack</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a5789eacb7e1a1c591bec869dc4dd0152">  612</a></span>&#160;<a class="code" href="../../d1/d6e/classQGIManager.html">QGIManager</a> &amp;<a class="code" href="../../dc/d39/classElementScene.html#a5789eacb7e1a1c591bec869dc4dd0152">ElementScene::qgiManager</a>() {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../dc/d39/classElementScene.html#a07a289897e58bfdfb691a107e2bb82bb">m_qgi_manager</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#aee8c8d6475aa50a773bbac1346de9107">  621</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d39/classElementScene.html#aee8c8d6475aa50a773bbac1346de9107">ElementScene::clipboardMayContainElement</a>() {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    QString clipboard_text = QApplication::clipboard() -&gt; text().trimmed();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">bool</span> may_be_element = clipboard_text.startsWith(<span class="stringliteral">&quot;&lt;definition&quot;</span>)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            &amp;&amp; clipboard_text.endsWith(<span class="stringliteral">&quot;&lt;/definition&gt;&quot;</span>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span>(may_be_element);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a71c90bec37a952ab076db0d89d9d1c23">  637</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d39/classElementScene.html#a71c90bec37a952ab076db0d89d9d1c23">ElementScene::wasCopiedFromThisElement</a>(<span class="keyword">const</span> QString &amp;clipboard_content) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span>(clipboard_content == <a class="code" href="../../dc/d39/classElementScene.html#a4cbc09dc12b017e35a511c434cc3d479">m_last_copied</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#aff5ea8fe5be26e588ca8d601402fc56d">  648</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#aff5ea8fe5be26e588ca8d601402fc56d">ElementScene::cut</a>() {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#ad083a900013fae3aedece63d935caafd">copy</a>();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    QList&lt;QGraphicsItem *&gt; cut_content = selectedItems();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    clearSelection();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(<span class="keyword">new</span> <a class="code" href="../../da/d3e/classCutPartsCommand.html">CutPartsCommand</a>(<span class="keyword">this</span>, cut_content));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#ad083a900013fae3aedece63d935caafd">  662</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#ad083a900013fae3aedece63d935caafd">ElementScene::copy</a>() {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// accede au presse-papier</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    QClipboard *clipboard = QApplication::clipboard();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// genere la description XML de la selection</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    QString clipboard_content = <a class="code" href="../../dc/d39/classElementScene.html#a16f4183a62e96a3ea2988bb2e31e148f">toXml</a>(<span class="keyword">false</span>).toString(4);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// met la description XML dans le presse-papier</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (clipboard -&gt; supportsSelection()) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        clipboard -&gt; setText(clipboard_content, QClipboard::Selection);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    clipboard -&gt; setText(clipboard_content);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="comment">// retient le dernier contenu copie</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a4cbc09dc12b017e35a511c434cc3d479">m_last_copied</a> = clipboard_content;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a4dc341bcb04b44bd1dafecae77ea8a44">  683</a></span>&#160;<a class="code" href="../../dc/d67/classQETElementEditor.html">QETElementEditor</a>* <a class="code" href="../../dc/d39/classElementScene.html#a4dc341bcb04b44bd1dafecae77ea8a44">ElementScene::editor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a322b7ded578f70c57cddac45104ad2cc">  691</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a322b7ded578f70c57cddac45104ad2cc">ElementScene::setElementInfo</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d0e/classDiagramContext.html">DiagramContext</a>&amp; dc)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a> != dc)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a> = dc;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        emit <a class="code" href="../../dc/d39/classElementScene.html#a124bd6d37e65f0cc2ca751e8fb2ab5b7">elementInfoChanged</a>();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#aae10a15f6f5e1ae4bff1033893562a94">  706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#aae10a15f6f5e1ae4bff1033893562a94">ElementScene::slot_select</a>(<span class="keyword">const</span> <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> &amp;content)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    blockSignals(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">/* Befor clear selection,</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">     * we must to remove the handlers items in @content,</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">     * because if in @content there are a selected item,</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">     * but also its handlers items, When item is deselected,</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">     * the item delete its handlers items,</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">     * then handlers in content doesn&#39;t exist anymore and cause segfault</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    QList&lt;QGraphicsItem*&gt; items_list;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">for</span> (QGraphicsItem *qgi : content)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">if</span>(qgi-&gt;type() != <a class="code" href="../../de/df5/classQetGraphicsHandlerItem.html#a2267c547e216942fad72639c6e1de06fa6aecc5d12fce4be4a17f2dbbc941e8ae">QetGraphicsHandlerItem::Type</a>)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            items_list &lt;&lt; qgi;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    clearSelection();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi, items_list)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        qgi -&gt; setSelected(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    blockSignals(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    emit(selectionChanged());</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a822f0983b590fe73719f8c881ebeee3e">  736</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a822f0983b590fe73719f8c881ebeee3e">ElementScene::slot_selectAll</a>() {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#aae10a15f6f5e1ae4bff1033893562a94">slot_select</a>(items());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a195228dfede4ad781b4f7217c91e3859">  744</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a195228dfede4ad781b4f7217c91e3859">ElementScene::slot_deselectAll</a>() {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#aae10a15f6f5e1ae4bff1033893562a94">slot_select</a>(<a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a>());</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#abb2116c226694c8715200c96322d26fe">  753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#abb2116c226694c8715200c96322d26fe">ElementScene::slot_invertSelection</a>() {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    blockSignals(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            items()) qgi -&gt; setSelected(!qgi -&gt; isSelected());</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    blockSignals(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    emit(selectionChanged());</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a8ee01b5de8bfcc09099fc351c54bd4d6">  766</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a8ee01b5de8bfcc09099fc351c54bd4d6">ElementScene::slot_delete</a>() {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// check that there is something selected</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// verifie qu&#39;il y a qqc de selectionne</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    QList&lt;QGraphicsItem *&gt; selected_items = selectedItems();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (selected_items.isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// erase everything that is selected</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// efface tout ce qui est selectionne</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">m_undo_stack</a>.push(<span class="keyword">new</span> <a class="code" href="../../dc/dcd/classDeletePartsCommand.html">DeletePartsCommand</a>(<span class="keyword">this</span>, selected_items));</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// removing items does not trigger QGraphicsScene::selectionChanged()</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    emit(<a class="code" href="../../dc/d39/classElementScene.html#aca845aacb6df321c7d5f8eeb8139ff1d">partsRemoved</a>());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    emit(selectionChanged());</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a2ddd186008468a5f821a43f400b9a85c">  790</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a2ddd186008468a5f821a43f400b9a85c">ElementScene::slot_editAuthorInformations</a>() {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordtype">bool</span> is_read_only = <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a> &amp;&amp; <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a> -&gt; isReadOnly();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// create a dialogue</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// cree un dialogue</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    QDialog dialog_author(<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    dialog_author.setModal(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#ifdef Q_OS_MACOS</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    dialog_author.setWindowFlags(Qt::Sheet);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    dialog_author.setMinimumSize(400, 260);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    dialog_author.setWindowTitle(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Éditer les informations sur l&#39;auteur&quot;</span>, <span class="stringliteral">&quot;window title&quot;</span>));</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    QVBoxLayout *dialog_layout = <span class="keyword">new</span> QVBoxLayout(&amp;dialog_author);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// adds an explanatory field to the dialogue</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// ajoute un champ explicatif au dialogue</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    QLabel *information_label = <span class="keyword">new</span> QLabel(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Vous pouvez utiliser ce champ libre pour mentionner les auteurs de l&#39;élément, sa licence, ou tout autre renseignement que vous jugerez utile.&quot;</span>));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    information_label -&gt; setAlignment(Qt::AlignJustify | Qt::AlignVCenter);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    information_label -&gt; setWordWrap(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    dialog_layout -&gt; addWidget(information_label);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// add a QTextEdit to the dialog</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// ajoute un QTextEdit au dialogue</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    QTextEdit *text_field = <span class="keyword">new</span> QTextEdit();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    text_field -&gt; setAcceptRichText(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    text_field -&gt; setPlainText(<a class="code" href="../../dc/d39/classElementScene.html#af7510397f99d46998a997a72f49e29b9">informations</a>());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    text_field -&gt; setReadOnly(is_read_only);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    dialog_layout -&gt; addWidget(text_field);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// ajoute deux boutons au dialogue</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    QDialogButtonBox *dialog_buttons = <span class="keyword">new</span> QDialogButtonBox(</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                is_read_only ? QDialogButtonBox::Ok :</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                           QDialogButtonBox::Ok</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                           | <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a3e09470f54cac0479a7cd4492c2a1cb6">QDialogButtonBox::Cancel</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    dialog_layout -&gt; addWidget(dialog_buttons);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    connect(dialog_buttons, SIGNAL(accepted()),&amp;dialog_author, SLOT(accept()));</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    connect(dialog_buttons, SIGNAL(rejected()),&amp;dialog_author, SLOT(reject()));</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// start the dialogue</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">// lance le dialogue</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (dialog_author.exec() == QDialog::Accepted &amp;&amp; !is_read_only) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        QString new_infos = text_field -&gt; toPlainText().remove(QChar(13)); <span class="comment">// CR-less text</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">if</span> (new_infos != <a class="code" href="../../dc/d39/classElementScene.html#af7510397f99d46998a997a72f49e29b9">informations</a>()) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(<span class="keyword">new</span> <a class="code" href="../../de/d45/classChangeInformationsCommand.html">ChangeInformationsCommand</a>(<span class="keyword">this</span>, <a class="code" href="../../dc/d39/classElementScene.html#af7510397f99d46998a997a72f49e29b9">informations</a>(), new_infos));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;}</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#afff694d43d9033f8f7de6d1d332bff46">  842</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="../../dc/d39/classElementScene.html#afff694d43d9033f8f7de6d1d332bff46">ElementScene::slot_editProperties</a>()</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    QString type = <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="../../d8/d0e/classDiagramContext.html">DiagramContext</a> kind_info = <a class="code" href="../../dc/d39/classElementScene.html#ad4c42759e42ff7acc8665e8bfb62a742">m_elmt_kindInfo</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="../../d8/d0e/classDiagramContext.html">DiagramContext</a> elmt_info = <a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="../../d2/d8d/classElementPropertiesEditorWidget.html">ElementPropertiesEditorWidget</a> epew(type, kind_info, elmt_info);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    epew.exec();</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (type != <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> ||</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        kind_info != <a class="code" href="../../dc/d39/classElementScene.html#ad4c42759e42ff7acc8665e8bfb62a742">m_elmt_kindInfo</a> ||</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        elmt_info != <a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a>)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(<span class="keyword">new</span> <a class="code" href="../../dc/d39/classElementScene.html#a95302803521bd0730736d9a14c4e6b01">ChangePropertiesCommand</a>(<span class="keyword">this</span>,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                 type,</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                 kind_info,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                 elmt_info));</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a794e576d4ebf6c756cc138e7a4ba8b6f">  864</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a794e576d4ebf6c756cc138e7a4ba8b6f">ElementScene::slot_editNames</a>()</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordtype">bool</span> is_read_only = <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a> &amp;&amp; <a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a> -&gt; isReadOnly();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="../../d3/de6/classNameListDialog.html">NameListDialog</a> dialog_(<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    dialog_.setModal(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    dialog_.setMinimumSize(400, 330);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    dialog_.setWindowTitle(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Éditer les noms&quot;</span>, <span class="stringliteral">&quot;window title&quot;</span>));</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    dialog_.<a class="code" href="../../d3/de6/classNameListDialog.html#a8b2d970ff3c65d94044404e52e020e5f">setInformationText</a>(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Vous pouvez spécifier le nom de l&#39;élément dans plusieurs langues.&quot;</span>));</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="../../d3/deb/classNameListWidget.html">NameListWidget</a> *nlw_ = dialog_.<a class="code" href="../../d3/de6/classNameListDialog.html#a6fa6c2a231ba5bb1457b9d15bca61d77">namelistWidget</a>();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    nlw_-&gt;<a class="code" href="../../d3/deb/classNameListWidget.html#a1eb45a6e7fe938c8b6505a051f4e3b9a">setNames</a>(<a class="code" href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">m_names_list</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    nlw_-&gt;<a class="code" href="../../d3/deb/classNameListWidget.html#a28a810cf67d3f97d7b2b467606a5c282">setReadOnly</a>(is_read_only);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (dialog_.exec() == QDialog::Accepted &amp;&amp; !is_read_only &amp;&amp; !nlw_-&gt;<a class="code" href="../../d3/deb/classNameListWidget.html#a01f29a5b5dfebad7b7014996b7e88ee6">isEmpty</a>())</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <a class="code" href="../../dc/d0a/classNamesList.html">NamesList</a> new_names = nlw_-&gt;<a class="code" href="../../d3/deb/classNameListWidget.html#a7d835d5692e75391035ad2a9064f9d1c">names</a>();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">if</span> (new_names != <a class="code" href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">m_names_list</a>) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(<span class="keyword">new</span> <a class="code" href="../../dc/dc0/classChangeNamesCommand.html">ChangeNamesCommand</a>(<span class="keyword">this</span>,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                <a class="code" href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">m_names_list</a>,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                new_names));</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;}</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#af548837cb49fac13216af93c9487addf">  895</a></span>&#160;QList&lt;CustomElementPart *&gt; <a class="code" href="../../dc/d39/classElementScene.html#af548837cb49fac13216af93c9487addf">ElementScene::primitives</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    QList&lt;CustomElementPart *&gt; primitives_list;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">foreach</span> (QGraphicsItem *item, items()) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *primitive = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *<span class="keyword">&gt;</span>(item)) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            primitives_list &lt;&lt; primitive;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">return</span>(primitives_list);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">  911</a></span>&#160;QList&lt;QGraphicsItem *&gt; <a class="code" href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">ElementScene::zItems</a>(ItemOptions options)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">// handle dummy request, i.e. when neither Selected nor NonSelected are set</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (!(options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ad42313f2d7b532c46529cfd39b7373c7">ElementScene::Selected</a>)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            &amp;&amp;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            !(options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a58c5e3154b1044bb20e5180a99ecf122">ElementScene::NonSelected</a>)) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">return</span>(QList&lt;QGraphicsItem *&gt;());</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">// retrieve all items</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    QList&lt;QGraphicsItem *&gt; all_items_list(items());</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    QMutableListIterator&lt;QGraphicsItem *&gt; i(all_items_list);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// remove unrequired items</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> ((options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a4b89bd455167ec7381348612df7df2b8">ElementScene::SelectedOrNot</a>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            != <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a4b89bd455167ec7381348612df7df2b8">ElementScene::SelectedOrNot</a>) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordtype">bool</span> keep_selected = options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ad42313f2d7b532c46529cfd39b7373c7">ElementScene::Selected</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">while</span> (i.hasNext()) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">if</span> (i.next() -&gt; isSelected() != keep_selected) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                i.remove();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    QList&lt;QGraphicsItem *&gt; terminals;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    QList&lt;QGraphicsItem *&gt; helpers;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">for</span> (i.toFront(); i.hasNext(); ) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        i.next();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        QGraphicsItem *qgi = i.value();</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            qgi -&gt; type() == <a class="code" href="../../d0/dda/classElementPrimitiveDecorator.html#ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9">ElementPrimitiveDecorator::Type</a> ||</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            qgi -&gt; type() == QGraphicsRectItem::Type ||</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            qgi-&gt;type() == <a class="code" href="../../de/df5/classQetGraphicsHandlerItem.html#a2267c547e216942fad72639c6e1de06fa6aecc5d12fce4be4a17f2dbbc941e8ae">QetGraphicsHandlerItem::Type</a></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        ) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            i.remove();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            helpers &lt;&lt; qgi;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qgraphicsitem_cast&lt;PartTerminal *&gt;(qgi)) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            i.remove();</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            terminals &lt;&lt; qgi;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// orders the parts by their zValue</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// ordonne les parties par leur zValue</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a8622bfd89460dc0ba8fe573a3e050d80">SortByZValue</a>) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="../../db/d20/pugixml_8cpp.html#a6fbeda9c786b66efbbd2acb59c1db2cf">std::sort</a> (all_items_list.begin(),</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;               all_items_list.end(),</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;               <a class="code" href="../../dc/d39/classElementScene.html#a530ebbcc55a3a588e333a039435daeef">ElementScene::zValueLessThan</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// possibly add the limits</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// rajoute eventuellement les bornes</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637aa200ac7d50d269a99fef9cc5d80d3412">ElementScene::IncludeTerminals</a>) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        all_items_list += terminals;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (options &amp; <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ae80f9ee5d96ba60efc7878bdb709e9ea">ElementScene::IncludeHelperItems</a>) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        all_items_list += helpers;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span>(all_items_list);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a388c81c8235372cc981eccbf6637f81b">  977</a></span>&#160;<a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> <a class="code" href="../../dc/d39/classElementScene.html#a388c81c8235372cc981eccbf6637f81b">ElementScene::selectedContent</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> content;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi, <a class="code" href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">zItems</a>()) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">if</span> (qgi -&gt; isSelected()) content &lt;&lt; qgi;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">return</span>(content);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#aa3e11616526b8f3ca85cc50684c4e34d">  992</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#aa3e11616526b8f3ca85cc50684c4e34d">ElementScene::getPasteArea</a>(<span class="keyword">const</span> QRectF &amp;to_paste) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// we draw it on the stage</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// on le dessine sur la scene</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; setRect(to_paste);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    addItem(<a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="comment">//we switch the scene to &quot;zone search for copy / paste&quot; mode</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">// on passe la scene en mode &quot;recherche de zone pour copier/coller&quot;</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">m_behavior</a> = <a class="code" href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cba4c2318aca6f00a0a424e00f5466d8b9b">PasteArea</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a6c3848ebd6394b60a812b9e85f9754b8"> 1006</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a6c3848ebd6394b60a812b9e85f9754b8">ElementScene::reset</a>()</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    clearSelection();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().clear();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// We don&#39;t add handlers,</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">// because it&#39;s the role of the primitive or decorator to remove it.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    QList&lt;QGraphicsItem*&gt; items_list;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">for</span> (QGraphicsItem *qgi : items())</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">if</span>(qgi-&gt;type() != <a class="code" href="../../de/df5/classQetGraphicsHandlerItem.html#a2267c547e216942fad72639c6e1de06fa6aecc5d12fce4be4a17f2dbbc941e8ae">QetGraphicsHandlerItem::Type</a>)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            items_list &lt;&lt; qgi;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">for</span> (QGraphicsItem *qgi : items_list)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        removeItem(qgi);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a5789eacb7e1a1c591bec869dc4dd0152">qgiManager</a>().<a class="code" href="../../d1/d6e/classQGIManager.html#ad7708c1e56b3b1731af26bc3ce2cfa76">release</a>(qgi);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;}</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a2821ebd1bdd60dbb95840aef0399c1f8"> 1039</a></span>&#160;QRectF <a class="code" href="../../dc/d39/classElementScene.html#a2821ebd1bdd60dbb95840aef0399c1f8">ElementScene::elementContentBoundingRect</a>(</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> &amp;content)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    QRectF bounding_rect;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *qgi, content) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="comment">// skip non-primitives QGraphicsItems (paste area, selection decorator)</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">if</span> (qgi -&gt; type() == <a class="code" href="../../d0/dda/classElementPrimitiveDecorator.html#ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9">ElementPrimitiveDecorator::Type</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">if</span> (qgi -&gt; type() == QGraphicsRectItem::Type) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        bounding_rect |= qgi -&gt; sceneBoundingRect();</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">return</span>(bounding_rect);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;}</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a75a10a9536448997c08a698e4b4bfc6c"> 1065</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d39/classElementScene.html#a75a10a9536448997c08a698e4b4bfc6c">ElementScene::applyInformations</a>(<span class="keyword">const</span> QDomDocument &amp;xml_document)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;{</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// Root must be an element definition</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    QDomElement root = xml_document.documentElement();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            root.tagName() != <span class="stringliteral">&quot;definition&quot;</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            ||</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            root.attribute(<span class="stringliteral">&quot;type&quot;</span>) != <span class="stringliteral">&quot;element&quot;</span>)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">//Extract info about element type</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">m_elmt_type</a> = root.attribute(<span class="stringliteral">&quot;link_type&quot;</span>, <span class="stringliteral">&quot;simple&quot;</span>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#ad4c42759e42ff7acc8665e8bfb62a742">m_elmt_kindInfo</a>.<a class="code" href="../../d8/d0e/classDiagramContext.html#a8e5ed488953211c89e25dea81b56c448">fromXml</a>(</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                root.firstChildElement(<span class="stringliteral">&quot;kindInformations&quot;</span>),</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                <span class="stringliteral">&quot;kindInformation&quot;</span>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">//Extract info of element</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">m_elmt_information</a>.<a class="code" href="../../d8/d0e/classDiagramContext.html#a8e5ed488953211c89e25dea81b56c448">fromXml</a>(</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                root.firstChildElement(<span class="stringliteral">&quot;elementInformations&quot;</span>),</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="stringliteral">&quot;elementInformation&quot;</span>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">//Extract names of xml definition</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">m_names_list</a>.<a class="code" href="../../dc/d0a/classNamesList.html#ac8b27013be75c5ee766a0b86a31d0150">fromXml</a>(root);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">//extract additional informations</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a469ff4f8ff42474f2b22240fea431909">setInformations</a>(QString());</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">for</span> (QDomNode node = root.firstChild() ;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;         !node.isNull() ;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;         node = node.nextSibling())</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        QDomElement elmt = node.toElement();</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">if</span> (elmt.isNull()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (elmt.tagName() == <span class="stringliteral">&quot;informations&quot;</span>)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <a class="code" href="../../dc/d39/classElementScene.html#a469ff4f8ff42474f2b22240fea431909">setInformations</a>(elmt.text());</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a32ca48682f0648be7e22a470c0148c03"> 1113</a></span>&#160;<a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> <a class="code" href="../../dc/d39/classElementScene.html#a32ca48682f0648be7e22a470c0148c03">ElementScene::loadContent</a>(<span class="keyword">const</span> QDomDocument &amp;xml_document)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;{</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> loaded_parts;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// The root is supposed to be an element definition</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    QDomElement root = xml_document.documentElement();</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">if</span> (root.tagName() != <span class="stringliteral">&quot;definition&quot;</span> || root.attribute(<span class="stringliteral">&quot;type&quot;</span>) != <span class="stringliteral">&quot;element&quot;</span>)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">return</span>(loaded_parts);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">//Load the graphic description of the element</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">for</span> (QDomNode node = root.firstChild() ; !node.isNull() ; node = node.nextSibling())</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        QDomElement elmts = node.toElement();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> (elmts.isNull())</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">if</span> (elmts.tagName() == <span class="stringliteral">&quot;description&quot;</span>)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="keywordtype">int</span> z = 1;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">for</span> (QDomNode n = node.firstChild() ; !n.isNull() ; n = n.nextSibling())</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                QDomElement qde = n.toElement();</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                <span class="keywordflow">if</span> (qde.isNull())</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                <a class="code" href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a> *cep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                <a class="code" href="../../d1/db3/classPartDynamicTextField.html">PartDynamicTextField</a> *pdtf = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="keywordflow">if</span>      (qde.tagName() == <span class="stringliteral">&quot;line&quot;</span>)     cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a489b95d3f42dc0ab882adb77e0837cd1">PartLine</a>     (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;rect&quot;</span>)     cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#ab493e6862637b8bdf85b94b1b3ad967d">PartRectangle</a>(<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;ellipse&quot;</span>)  cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a2214dd8cb3c9f256feb10f23a08a2b49">PartEllipse</a>  (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;circle&quot;</span>)   cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a2214dd8cb3c9f256feb10f23a08a2b49">PartEllipse</a>  (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;polygon&quot;</span>)  cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#ac7fd16d9ced151b227624b9b9823fa53">PartPolygon</a>  (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;terminal&quot;</span>) cep = <span class="keyword">new</span> <a class="code" href="../../d2/d50/classPartTerminal.html">PartTerminal</a> (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;text&quot;</span>)     cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a83e96bc1776c3e38f33cdf357372a051">PartText</a>     (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;arc&quot;</span>)      cep = <span class="keyword">new</span> <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a6d805217d2b5703c061f0958193a6588">PartArc</a>      (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;dynamic_text&quot;</span>) cep = <span class="keyword">new</span> <a class="code" href="../../d1/db3/classPartDynamicTextField.html">PartDynamicTextField</a> (<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="comment">//For the input (aka the old text field) we try to convert it to the new partDynamicTextField</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qde.tagName() == <span class="stringliteral">&quot;input&quot;</span>) cep = pdtf = <span class="keyword">new</span> <a class="code" href="../../d1/db3/classPartDynamicTextField.html">PartDynamicTextField</a>(<a class="code" href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">m_element_editor</a>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="keywordflow">if</span> (QGraphicsItem *qgi = <span class="keyword">dynamic_cast&lt;</span>QGraphicsItem *<span class="keyword">&gt;</span>(cep))</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    <span class="keywordflow">if</span> (!qgi-&gt;zValue())</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                        qgi-&gt;setZValue(z++);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                    </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    loaded_parts&lt;&lt;qgi;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                    </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                    <span class="keywordflow">if</span>(pdtf)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                        pdtf-&gt;<a class="code" href="../../d1/db3/classPartDynamicTextField.html#a0925be5e00e8aa2d58064e949cf55518">fromTextFieldXml</a>(qde);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                        cep-&gt;<a class="code" href="../../d6/db7/classCustomElementPart.html#af9fec80c454f577b1bb2fb79361907a2">fromXml</a>(qde);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                    <span class="keyword">delete</span> cep;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">return</span>(loaded_parts);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#ad39c873e6a5dd0b79f136bd0745fb4a2"> 1185</a></span>&#160;<a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> <a class="code" href="../../dc/d39/classElementScene.html#ad39c873e6a5dd0b79f136bd0745fb4a2">ElementScene::addContent</a>(<span class="keyword">const</span> <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> &amp;content) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *part, content) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a692ea98eeaa2201456009c878f5ed80c">addPrimitive</a>(part);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span>(content);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#ad46862fc1a21cd68f4c0e8d60ca96bea"> 1205</a></span>&#160;<a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> <a class="code" href="../../dc/d39/classElementScene.html#ad46862fc1a21cd68f4c0e8d60ca96bea">ElementScene::addContentAtPos</a>(<span class="keyword">const</span> <a class="code" href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a> &amp;content,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                         <span class="keyword">const</span> QPointF &amp;pos) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// calculate the boundingRect of the content to add</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// calcule le boundingRect du contenu a ajouter</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    QRectF bounding_rect = <a class="code" href="../../dc/d39/classElementScene.html#a2821ebd1bdd60dbb95840aef0399c1f8">elementContentBoundingRect</a>(content);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">/*   deduced the offset to be applied to the parts to place</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">     * them at the point requested</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">     *   en deduit le decalage a appliquer aux parties pour les poser</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">     * au point demander</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    QPointF offset = pos - bounding_rect.topLeft();</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// add the parts with the correct offset</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="comment">// ajoute les parties avec le decalage adequat</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">foreach</span>(QGraphicsItem *part, content) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        part -&gt; setPos(part -&gt; pos() + offset);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a692ea98eeaa2201456009c878f5ed80c">addPrimitive</a>(part);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">return</span>(content);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a692ea98eeaa2201456009c878f5ed80c"> 1233</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a692ea98eeaa2201456009c878f5ed80c">ElementScene::addPrimitive</a>(QGraphicsItem *primitive) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (!primitive) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    addItem(primitive);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a4bbee5837c360a8e85a6caf63b3c7220"> 1243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a4bbee5837c360a8e85a6caf63b3c7220">ElementScene::initPasteArea</a>() {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> = <span class="keyword">new</span> QGraphicsRectItem();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; setZValue(1000000);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    QPen paste_area_pen;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    paste_area_pen.setStyle(Qt::DashDotLine);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    paste_area_pen.setColor(QColor(30, 56, 86, 255));</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    QBrush paste_area_brush;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    paste_area_brush.setStyle(Qt::SolidPattern);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    paste_area_brush.setColor(QColor(90, 167, 255, 64));</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; setPen(paste_area_pen);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">m_paste_area</a> -&gt; setBrush(paste_area_brush);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a514dd2042f9a612fe5f9252b5f50b541"> 1270</a></span>&#160;QPointF <a class="code" href="../../dc/d39/classElementScene.html#a514dd2042f9a612fe5f9252b5f50b541">ElementScene::snapToGrid</a>(QPointF point) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    point.rx() = qRound(point.x() / <a class="code" href="../../dc/d39/classElementScene.html#a85655df78cc5e75aba310f2134a7125f">m_x_grid</a>) * <a class="code" href="../../dc/d39/classElementScene.html#a85655df78cc5e75aba310f2134a7125f">m_x_grid</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    point.ry() = qRound(point.y() / <a class="code" href="../../dc/d39/classElementScene.html#a761158cfea0f93492d2a4945077a5aca">m_y_grid</a>) * <a class="code" href="../../dc/d39/classElementScene.html#a761158cfea0f93492d2a4945077a5aca">m_y_grid</a>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">return</span> point;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a530ebbcc55a3a588e333a039435daeef"> 1282</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d39/classElementScene.html#a530ebbcc55a3a588e333a039435daeef">ElementScene::zValueLessThan</a>(QGraphicsItem *item1, QGraphicsItem *item2) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">return</span>(item1-&gt; zValue() &lt; item2 -&gt; zValue());</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a7595c1ef4832c64714b5d2edda87ca2f"> 1291</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a7595c1ef4832c64714b5d2edda87ca2f">ElementScene::centerElementToOrigine</a>() {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    QRectF size= <a class="code" href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">elementSceneGeometricRect</a>();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordtype">int</span> center_x = qRound(size.center().x());</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordtype">int</span> center_y = qRound(size.center().y());</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">//define the movement of translation</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordtype">int</span> move_x = center_x - (center_x %10);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span> (center_x &lt; 0) move_x -= 10;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordtype">int</span> move_y = center_y - (center_y %10);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (center_y &lt; 0) move_y -= 10;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">//move each primitive by @move</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">foreach</span> (QGraphicsItem *qgi, items()) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">if</span> (qgi -&gt; type() == <a class="code" href="../../d0/dda/classElementPrimitiveDecorator.html#ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9">ElementPrimitiveDecorator::Type</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">if</span> (qgi -&gt; type() == QGraphicsRectItem::Type) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="comment">//deselect item for disable decorator</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        qgi -&gt; setSelected(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        qgi -&gt; moveBy(-(move_x), -(move_y));</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    emit (<a class="code" href="../../dc/d39/classElementScene.html#a41b82fb807558e2c5f27d8ccc57c8068">needZoomFit</a>());</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c"> 1318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c">ElementScene::managePrimitivesGroups</a>()</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;{</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">//this function is not supposed to be reentrant</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d39/classElementScene.html#ad408cfafce006d27e87087a4f40d44e8">m_decorator_lock</a>-&gt;tryLock())</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> = <span class="keyword">new</span> <a class="code" href="../../d0/dda/classElementPrimitiveDecorator.html">ElementPrimitiveDecorator</a>();</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        connect(<a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>,</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            SIGNAL(actionFinished(<a class="code" href="../../d0/da8/classElementEditionCommand.html">ElementEditionCommand</a>*)),</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keyword">this</span>, SLOT(<a class="code" href="../../dc/d39/classElementScene.html#a5327a3a218b11d91f6c008f50760dae5">stackAction</a>(<a class="code" href="../../d0/da8/classElementEditionCommand.html">ElementEditionCommand</a> *)));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        addItem(<a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a>);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> -&gt; hide();</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="comment">// should we hide the decorator?</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    QList&lt;QGraphicsItem *&gt; selected_items = <a class="code" href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">zItems</a>(</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ad42313f2d7b532c46529cfd39b7373c7">ElementScene::Selected</a></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                | <a class="code" href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637aa200ac7d50d269a99fef9cc5d80d3412">ElementScene::IncludeTerminals</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (selected_items.size() &lt;= 1)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> -&gt; hide();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">for</span>(QGraphicsItem *qgi : selected_items)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="comment">/* We recall set selected,</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">             * then every primitive will remove there handler</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">             * because there are several item selected</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            qgi-&gt;setSelected(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> -&gt; setZValue(1000000);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> -&gt; setPos(0, 0);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <a class="code" href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">m_decorator</a> -&gt; setItems(selected_items);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#ad408cfafce006d27e87087a4f40d44e8">m_decorator_lock</a> -&gt; unlock();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"><a class="line" href="../../dc/d39/classElementScene.html#a5327a3a218b11d91f6c008f50760dae5"> 1364</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d39/classElementScene.html#a5327a3a218b11d91f6c008f50760dae5">ElementScene::stackAction</a>(<a class="code" href="../../d0/da8/classElementEditionCommand.html">ElementEditionCommand</a> *command) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (command -&gt; elementScene()) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">if</span> (command -&gt; elementScene() != <span class="keyword">this</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        command -&gt; setElementScene(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (!command -&gt; elementView()) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">foreach</span> (QGraphicsView *view, views()) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d81/classElementView.html">ElementView</a> *element_view =</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                    <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d2/d81/classElementView.html">ElementView</a> *<span class="keyword">&gt;</span>(view)) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                command -&gt; setElementView(element_view);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">undoStack</a>().push(command);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassElementScene_html_ae6cb1c850bc356e4a547155aaec226df"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6cb1c850bc356e4a547155aaec226df">ElementScene::partsAdded</a></div><div class="ttdeci">void partsAdded()</div><div class="ttdoc">Signal emitted after one or several parts were added.</div></div>
<div class="ttc" id="aclassElementPrimitiveDecorator_html_ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9"><div class="ttname"><a href="../../d0/dda/classElementPrimitiveDecorator.html#ac1630dc993fb87cb0cd523894d054c45a02f5521517378f5e2f25a88dddf297c9">ElementPrimitiveDecorator::Type</a></div><div class="ttdeci">@ Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d75/elementprimitivedecorator_8h_source.html#l00048">elementprimitivedecorator.h:48</a></div></div>
<div class="ttc" id="aclassElementScene_html_afcceef59137fea9d045571718700204c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#afcceef59137fea9d045571718700204c">ElementScene::managePrimitivesGroups</a></div><div class="ttdeci">void managePrimitivesGroups()</div><div class="ttdoc">ElementScene::managePrimitivesGroups Ensure the decorator is adequately shown, hidden or updated so i...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01318">elementscene.cpp:1318</a></div></div>
<div class="ttc" id="aclassCustomElementPart_html"><div class="ttname"><a href="../../d6/db7/classCustomElementPart.html">CustomElementPart</a></div><div class="ttdoc">The CustomElementPart class This abstract class represents a primitive of the visual representation o...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d30/customelementpart_8h_source.html#l00040">customelementpart.h:40</a></div></div>
<div class="ttc" id="aclassElementScene_html_a999b13d910ee39c5ffacafce6db2ff7d"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a999b13d910ee39c5ffacafce6db2ff7d">ElementScene::mouseReleaseEvent</a></div><div class="ttdeci">void mouseReleaseEvent(QGraphicsSceneMouseEvent *) override</div><div class="ttdoc">ElementScene::mouseReleaseEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00147">elementscene.cpp:147</a></div></div>
<div class="ttc" id="aclassElementView_html"><div class="ttname"><a href="../../d2/d81/classElementView.html">ElementView</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dac/elementview_8h_source.html#l00027">elementview.h:27</a></div></div>
<div class="ttc" id="aelementcontent_8h_html_a0ba52f1b106c068a39004cd18dee3c3c"><div class="ttname"><a href="../../da/d17/elementcontent_8h.html#a0ba52f1b106c068a39004cd18dee3c3c">ElementContent</a></div><div class="ttdeci">QList&lt; QGraphicsItem * &gt; ElementContent</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d17/elementcontent_8h_source.html#l00030">elementcontent.h:21</a></div></div>
<div class="ttc" id="aclassQGIManager_html_ad7708c1e56b3b1731af26bc3ce2cfa76"><div class="ttname"><a href="../../d1/d6e/classQGIManager.html#ad7708c1e56b3b1731af26bc3ce2cfa76">QGIManager::release</a></div><div class="ttdeci">void release(QGraphicsItem *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d82/qgimanager_8cpp_source.html#l00060">qgimanager.cpp:60</a></div></div>
<div class="ttc" id="aclassCustomElementPart_html_af9fec80c454f577b1bb2fb79361907a2"><div class="ttname"><a href="../../d6/db7/classCustomElementPart.html#af9fec80c454f577b1bb2fb79361907a2">CustomElementPart::fromXml</a></div><div class="ttdeci">virtual void fromXml(const QDomElement &amp;)=0</div></div>
<div class="ttc" id="aclassElementScene_html_aff5ea8fe5be26e588ca8d601402fc56d"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aff5ea8fe5be26e588ca8d601402fc56d">ElementScene::cut</a></div><div class="ttdeci">void cut()</div><div class="ttdoc">ElementScene::cut Handles the fact of cutting the selection = exporting it in XML to the clipboard th...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00648">elementscene.cpp:648</a></div></div>
<div class="ttc" id="aclassElementScene_html_a401db79976da410669e41a44ebc76c50"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a401db79976da410669e41a44ebc76c50">ElementScene::m_elmt_information</a></div><div class="ttdeci">DiagramContext m_elmt_information</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00071">elementscene.h:71</a></div></div>
<div class="ttc" id="aclassElementScene_html_a07a289897e58bfdfb691a107e2bb82bb"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a07a289897e58bfdfb691a107e2bb82bb">ElementScene::m_qgi_manager</a></div><div class="ttdeci">QGIManager m_qgi_manager</div><div class="ttdoc">element kind info</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00072">elementscene.h:72</a></div></div>
<div class="ttc" id="aclassElementScene_html_a5789eacb7e1a1c591bec869dc4dd0152"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a5789eacb7e1a1c591bec869dc4dd0152">ElementScene::qgiManager</a></div><div class="ttdeci">QGIManager &amp; qgiManager()</div><div class="ttdoc">ElementScene::qgiManager.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00612">elementscene.cpp:612</a></div></div>
<div class="ttc" id="apartellipse_8h_html"><div class="ttname"><a href="../../df/dda/partellipse_8h.html">partellipse.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a3f40cdd5ae47ab8bdd1ad28ecbfedc06"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a3f40cdd5ae47ab8bdd1ad28ecbfedc06">ElementScene::fromXml</a></div><div class="ttdeci">virtual void fromXml(const QDomDocument &amp;, const QPointF &amp;=QPointF(), bool=true, ElementContent *=nullptr)</div><div class="ttdoc">ElementScene::fromXml Imports the element described in an XML document. If a position is specified,...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00537">elementscene.cpp:537</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a489b95d3f42dc0ab882adb77e0837cd1"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a489b95d3f42dc0ab882adb77e0837cd1">QET::Icons::PartLine</a></div><div class="ttdeci">QIcon PartLine</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00130">qeticons.cpp:130</a></div></div>
<div class="ttc" id="aclassElementScene_html_a123e6f48bd6cfba0b9606efdfc92aae9"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a123e6f48bd6cfba0b9606efdfc92aae9">ElementScene::~ElementScene</a></div><div class="ttdeci">~ElementScene() override</div><div class="ttdoc">ElementScene::~ElementScene.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00079">elementscene.cpp:79</a></div></div>
<div class="ttc" id="aclassElementScene_html_a94233524dc9daae50598336aced244cb"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cb">ElementScene::Behavior</a></div><div class="ttdeci">Behavior</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00046">elementscene.h:46</a></div></div>
<div class="ttc" id="aclassElementScene_html_ad083a900013fae3aedece63d935caafd"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad083a900013fae3aedece63d935caafd">ElementScene::copy</a></div><div class="ttdeci">void copy()</div><div class="ttdoc">ElementScene::copy Handles the fact of copying the selection = exporting it as XML to the clipboard.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00662">elementscene.cpp:662</a></div></div>
<div class="ttc" id="aclassElementScene_html_aee8c8d6475aa50a773bbac1346de9107"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aee8c8d6475aa50a773bbac1346de9107">ElementScene::clipboardMayContainElement</a></div><div class="ttdeci">static bool clipboardMayContainElement()</div><div class="ttdoc">ElementScene::clipboardMayContainElement.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00621">elementscene.cpp:621</a></div></div>
<div class="ttc" id="aclassQPropertyUndoCommand_html_a62c22eb056d39243310db052e1b115fc"><div class="ttname"><a href="../../df/d51/classQPropertyUndoCommand.html#a62c22eb056d39243310db052e1b115fc">QPropertyUndoCommand::enableAnimation</a></div><div class="ttdeci">void enableAnimation(bool animate=true)</div><div class="ttdoc">QPropertyUndoCommand::enableAnimation True to enable animation.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d9d/qpropertyundocommand_8cpp_source.html#l00092">qpropertyundocommand.cpp:92</a></div></div>
<div class="ttc" id="aclassElementScene_html_a24a211d890081819291bb8f1b7627587"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a24a211d890081819291bb8f1b7627587">ElementScene::behavior</a></div><div class="ttdeci">ElementScene::Behavior behavior() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00352">elementscene.cpp:352</a></div></div>
<div class="ttc" id="aclassElementScene_html_a3f685440f22285927fd399a2b737ce66"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a3f685440f22285927fd399a2b737ce66">ElementScene::containsTerminals</a></div><div class="ttdeci">bool containsTerminals() const</div><div class="ttdoc">ElementScene::containsTerminals.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00589">elementscene.cpp:589</a></div></div>
<div class="ttc" id="aclassElementScene_html_a5310aa9b8b6ba4de49b432cba5f4e5fe"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a5310aa9b8b6ba4de49b432cba5f4e5fe">ElementScene::zItems</a></div><div class="ttdeci">virtual QList&lt; QGraphicsItem * &gt; zItems(ItemOptions options=ItemOptions(SortByZValue|IncludeTerminals|SelectedOrNot)) const</div><div class="ttdoc">ElementScene::zItems.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00911">elementscene.cpp:911</a></div></div>
<div class="ttc" id="aclassQPropertyUndoCommand_html"><div class="ttname"><a href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a></div><div class="ttdoc">The QPropertyUndoCommand class This undo command manage QProperty of a QObject. This undo command can...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d34/qpropertyundocommand_8h_source.html#l00033">qpropertyundocommand.h:34</a></div></div>
<div class="ttc" id="aclassNamesList_html_a9c6cd8862570bb65e96c6186158d0b75"><div class="ttname"><a href="../../dc/d0a/classNamesList.html#a9c6cd8862570bb65e96c6186158d0b75">NamesList::toXml</a></div><div class="ttdeci">QDomElement toXml(QDomDocument &amp;, const QHash&lt; QString, QString &gt; &amp;=QHash&lt; QString, QString &gt;()) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd5/nameslist_8cpp_source.html#l00169">nameslist.cpp:169</a></div></div>
<div class="ttc" id="aelementprimitivedecorator_8h_html"><div class="ttname"><a href="../../d9/d75/elementprimitivedecorator_8h.html">elementprimitivedecorator.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a75a10a9536448997c08a698e4b4bfc6c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a75a10a9536448997c08a698e4b4bfc6c">ElementScene::applyInformations</a></div><div class="ttdeci">bool applyInformations(const QDomDocument &amp;)</div><div class="ttdoc">ElementScene::applyInformations Applies the information (dimensions, hostpot, orientations,...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01065">elementscene.cpp:1065</a></div></div>
<div class="ttc" id="aclassPartDynamicTextField_html_ae1f04b86ecddeed7a8056991248bd6caac65d5e23de18b94d0243fede04497be5"><div class="ttname"><a href="../../d1/db3/classPartDynamicTextField.html#ae1f04b86ecddeed7a8056991248bd6caac65d5e23de18b94d0243fede04497be5">PartDynamicTextField::Type</a></div><div class="ttdeci">@ Type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d50/partdynamictextfield_8h_source.html#l00067">partdynamictextfield.h:67</a></div></div>
<div class="ttc" id="aclassElementScene_html_a94233524dc9daae50598336aced244cba4c2318aca6f00a0a424e00f5466d8b9b"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cba4c2318aca6f00a0a424e00f5466d8b9b">ElementScene::PasteArea</a></div><div class="ttdeci">@ PasteArea</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00046">elementscene.h:46</a></div></div>
<div class="ttc" id="aclassElementScene_html_a8ee01b5de8bfcc09099fc351c54bd4d6"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a8ee01b5de8bfcc09099fc351c54bd4d6">ElementScene::slot_delete</a></div><div class="ttdeci">void slot_delete()</div><div class="ttdoc">ElementScene::slot_delete Delete selected items.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00766">elementscene.cpp:766</a></div></div>
<div class="ttc" id="aclassNameListWidget_html_a28a810cf67d3f97d7b2b467606a5c282"><div class="ttname"><a href="../../d3/deb/classNameListWidget.html#a28a810cf67d3f97d7b2b467606a5c282">NameListWidget::setReadOnly</a></div><div class="ttdeci">void setReadOnly(bool ro)</div><div class="ttdoc">NameListWidget::setReadOnly Set this dialog to read only or not.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/namelistwidget_8cpp_source.html#l00104">namelistwidget.cpp:104</a></div></div>
<div class="ttc" id="aclassElementScene_html_ad4c42759e42ff7acc8665e8bfb62a742"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad4c42759e42ff7acc8665e8bfb62a742">ElementScene::m_elmt_kindInfo</a></div><div class="ttdeci">DiagramContext m_elmt_kindInfo</div><div class="ttdoc">element type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00070">elementscene.h:70</a></div></div>
<div class="ttc" id="aclassElementScene_html_abb2116c226694c8715200c96322d26fe"><div class="ttname"><a href="../../dc/d39/classElementScene.html#abb2116c226694c8715200c96322d26fe">ElementScene::slot_invertSelection</a></div><div class="ttdeci">void slot_invertSelection()</div><div class="ttdoc">ElementScene::slot_invertSelection Inverse Selection.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00753">elementscene.cpp:753</a></div></div>
<div class="ttc" id="aclassNameListDialog_html_a8b2d970ff3c65d94044404e52e020e5f"><div class="ttname"><a href="../../d3/de6/classNameListDialog.html#a8b2d970ff3c65d94044404e52e020e5f">NameListDialog::setInformationText</a></div><div class="ttdeci">void setInformationText(const QString &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df2/namelistdialog_8cpp_source.html#l00042">namelistdialog.cpp:42</a></div></div>
<div class="ttc" id="apugixml_8cpp_html_a6fbeda9c786b66efbbd2acb59c1db2cf"><div class="ttname"><a href="../../db/d20/pugixml_8cpp.html#a6fbeda9c786b66efbbd2acb59c1db2cf">sort</a></div><div class="ttdeci">PUGI__FN void sort(I begin, I end, const Pred &amp;pred)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d20/pugixml_8cpp_source.html#l07527">pugixml.cpp:7527</a></div></div>
<div class="ttc" id="aclassElementScene_html_a2e72a0e10ac24b228711adfe5b82c67d"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a2e72a0e10ac24b228711adfe5b82c67d">ElementScene::m_defined_paste_area</a></div><div class="ttdeci">QRectF m_defined_paste_area</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00080">elementscene.h:80</a></div></div>
<div class="ttc" id="aclassQGIManager_html"><div class="ttname"><a href="../../d1/d6e/classQGIManager.html">QGIManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de2/qgimanager_8h_source.html#l00027">qgimanager.h:27</a></div></div>
<div class="ttc" id="aclassElementScene_html_a3913080979a472001e283051abf5d632"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a3913080979a472001e283051abf5d632">ElementScene::mouseDoubleClickEvent</a></div><div class="ttdeci">void mouseDoubleClickEvent(QGraphicsSceneMouseEvent *event) override</div><div class="ttdoc">ElementScene::mouseDoubleClickEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00174">elementscene.cpp:174</a></div></div>
<div class="ttc" id="aclassElementScene_html_a195228dfede4ad781b4f7217c91e3859"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a195228dfede4ad781b4f7217c91e3859">ElementScene::slot_deselectAll</a></div><div class="ttdeci">void slot_deselectAll()</div><div class="ttdoc">ElementScene::slot_deselectAll deselect all item.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00744">elementscene.cpp:744</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_af834c6e3bdd9708fecb33edf23c5aca6"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">QET::Icons::tr</a></div><div class="ttdeci">QIcon tr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00206">qeticons.cpp:206</a></div></div>
<div class="ttc" id="apartline_8h_html"><div class="ttname"><a href="../../d0/d53/partline_8h.html">partline.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_abdac41460bbf5e6f7fd0ed3dbb3f888b"><div class="ttname"><a href="../../dc/d39/classElementScene.html#abdac41460bbf5e6f7fd0ed3dbb3f888b">ElementScene::m_names_list</a></div><div class="ttdeci">NamesList m_names_list</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00067">elementscene.h:67</a></div></div>
<div class="ttc" id="aclassElementScene_html_a089c70001e634c03745223c1ca52cd5c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a089c70001e634c03745223c1ca52cd5c">ElementScene::undoStack</a></div><div class="ttdeci">QUndoStack &amp; undoStack()</div><div class="ttdoc">ElementScene::undoStack.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00603">elementscene.cpp:603</a></div></div>
<div class="ttc" id="aclassElementScene_html_a51410877e8aff37d8710f3970671135b"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a51410877e8aff37d8710f3970671135b">ElementScene::contextMenuEvent</a></div><div class="ttdeci">void contextMenuEvent(QGraphicsSceneContextMenuEvent *event) override</div><div class="ttdoc">ElementScene::contextMenuEvent Display the context menu event, only if behavior are Normal.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00275">elementscene.cpp:275</a></div></div>
<div class="ttc" id="aclassElementScene_html_a3088861e08280a27d6f3387eea6dea6e"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a3088861e08280a27d6f3387eea6dea6e">ElementScene::keyPressEvent</a></div><div class="ttdeci">void keyPressEvent(QKeyEvent *event) override</div><div class="ttdoc">ElementScene::keyPressEvent manage key press event.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00194">elementscene.cpp:194</a></div></div>
<div class="ttc" id="aelementpropertieseditorwidget_8h_html"><div class="ttname"><a href="../../d9/d5d/elementpropertieseditorwidget_8h.html">elementpropertieseditorwidget.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a05fb48b8f675cb63dc333302c74c2def"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a05fb48b8f675cb63dc333302c74c2def">ElementScene::m_undo_stack</a></div><div class="ttdeci">QUndoStack m_undo_stack</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00073">elementscene.h:73</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637a4b89bd455167ec7381348612df7df2b8"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a4b89bd455167ec7381348612df7df2b8">ElementScene::SelectedOrNot</a></div><div class="ttdeci">@ SelectedOrNot</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00054">elementscene.h:53</a></div></div>
<div class="ttc" id="aclassQetGraphicsHandlerItem_html_a2267c547e216942fad72639c6e1de06fa6aecc5d12fce4be4a17f2dbbc941e8ae"><div class="ttname"><a href="../../de/df5/classQetGraphicsHandlerItem.html#a2267c547e216942fad72639c6e1de06fa6aecc5d12fce4be4a17f2dbbc941e8ae">QetGraphicsHandlerItem::Type</a></div><div class="ttdeci">@ Type</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d91/qetgraphicshandleritem_8h_source.html#l00042">qetgraphicshandleritem.h:42</a></div></div>
<div class="ttc" id="aclassElementPrimitiveDecorator_html"><div class="ttname"><a href="../../d0/dda/classElementPrimitiveDecorator.html">ElementPrimitiveDecorator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d75/elementprimitivedecorator_8h_source.html#l00040">elementprimitivedecorator.h:41</a></div></div>
<div class="ttc" id="anamelistdialog_8h_html"><div class="ttname"><a href="../../dd/d83/namelistdialog_8h.html">namelistdialog.h</a></div></div>
<div class="ttc" id="aclassESEventInterface_html_a84cd2d522bccb0e0c4ccc6d386a1e8ad"><div class="ttname"><a href="../../d6/d81/classESEventInterface.html#a84cd2d522bccb0e0c4ccc6d386a1e8ad">ESEventInterface::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">ESEventInterface::init Init this event interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d80/eseventinterface_8cpp_source.html#l00038">eseventinterface.cpp:38</a></div></div>
<div class="ttc" id="aclassElementScene_html_ad408cfafce006d27e87087a4f40d44e8"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad408cfafce006d27e87087a4f40d44e8">ElementScene::m_decorator_lock</a></div><div class="ttdeci">QMutex * m_decorator_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00151">elementscene.h:151</a></div></div>
<div class="ttc" id="aclassElementScene_html_a514dd2042f9a612fe5f9252b5f50b541"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a514dd2042f9a612fe5f9252b5f50b541">ElementScene::snapToGrid</a></div><div class="ttdeci">QPointF snapToGrid(QPointF point)</div><div class="ttdoc">ElementScene::snapToGrid Rounds the coordinates of the point passed as a parameter so that this point...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01270">elementscene.cpp:1270</a></div></div>
<div class="ttc" id="aqetelementeditor_8h_html"><div class="ttname"><a href="../../d9/dc5/qetelementeditor_8h.html">qetelementeditor.h</a></div></div>
<div class="ttc" id="aclassESEventInterface_html"><div class="ttname"><a href="../../d6/d81/classESEventInterface.html">ESEventInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/eseventinterface_8h_source.html#l00029">eseventinterface.h:30</a></div></div>
<div class="ttc" id="aclassElementEditionCommand_html"><div class="ttname"><a href="../../d0/da8/classElementEditionCommand.html">ElementEditionCommand</a></div><div class="ttdoc">The ElementEditionCommand class ElementEditionCommand is the base class for all commands classes invo...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/editorcommands_8h_source.html#l00032">editorcommands.h:33</a></div></div>
<div class="ttc" id="aclassElementScene_html_a16f4183a62e96a3ea2988bb2e31e148f"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a16f4183a62e96a3ea2988bb2e31e148f">ElementScene::toXml</a></div><div class="ttdeci">virtual const QDomDocument toXml(bool=true)</div><div class="ttdoc">ElementScene::toXml Export this element as a xml file.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00394">elementscene.cpp:394</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a6d805217d2b5703c061f0958193a6588"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a6d805217d2b5703c061f0958193a6588">QET::Icons::PartArc</a></div><div class="ttdeci">QIcon PartArc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00127">qeticons.cpp:127</a></div></div>
<div class="ttc" id="aclassElementScene_html_af548837cb49fac13216af93c9487addf"><div class="ttname"><a href="../../dc/d39/classElementScene.html#af548837cb49fac13216af93c9487addf">ElementScene::primitives</a></div><div class="ttdeci">virtual QList&lt; CustomElementPart * &gt; primitives() const</div><div class="ttdoc">ElementScene::primitives.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00895">elementscene.cpp:895</a></div></div>
<div class="ttc" id="aclassESEventInterface_html_a403e81df7b814430c6f05a35542698f4"><div class="ttname"><a href="../../d6/d81/classESEventInterface.html#a403e81df7b814430c6f05a35542698f4">ESEventInterface::isFinish</a></div><div class="ttdeci">virtual bool isFinish() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d80/eseventinterface_8cpp_source.html#l00106">eseventinterface.cpp:106</a></div></div>
<div class="ttc" id="aclassElementScene_html_a469ff4f8ff42474f2b22240fea431909"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a469ff4f8ff42474f2b22240fea431909">ElementScene::setInformations</a></div><div class="ttdeci">void setInformations(const QString &amp;)</div><div class="ttdoc">ElementScene::setInformations.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00211">elementscene.h:211</a></div></div>
<div class="ttc" id="aclassElementScene_html_a80a3a72df77d40b140379065a397ef2c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a80a3a72df77d40b140379065a397ef2c">ElementScene::setEventInterface</a></div><div class="ttdeci">void setEventInterface(ESEventInterface *event_interface)</div><div class="ttdoc">ElementScene::setEventInterface Set a new event interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00317">elementscene.cpp:317</a></div></div>
<div class="ttc" id="apartterminal_8h_html"><div class="ttname"><a href="../../d5/de5/partterminal_8h.html">partterminal.h</a></div></div>
<div class="ttc" id="aclassDiagramContext_html_a8e5ed488953211c89e25dea81b56c448"><div class="ttname"><a href="../../d8/d0e/classDiagramContext.html#a8e5ed488953211c89e25dea81b56c448">DiagramContext::fromXml</a></div><div class="ttdeci">void fromXml(const QDomElement &amp;, const QString &amp;=&quot;property&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d79/diagramcontext_8cpp_source.html#l00157">diagramcontext.cpp:157</a></div></div>
<div class="ttc" id="aclassElementScene_html_a06d8730a15d1421d2b951d51a39ddf72"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a06d8730a15d1421d2b951d51a39ddf72">ElementScene::mouseMoveEvent</a></div><div class="ttdeci">void mouseMoveEvent(QGraphicsSceneMouseEvent *) override</div><div class="ttdoc">ElementScene::mouseMoveEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00097">elementscene.cpp:97</a></div></div>
<div class="ttc" id="aclassElementScene_html_a71c90bec37a952ab076db0d89d9d1c23"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a71c90bec37a952ab076db0d89d9d1c23">ElementScene::wasCopiedFromThisElement</a></div><div class="ttdeci">bool wasCopiedFromThisElement(const QString &amp;)</div><div class="ttdoc">ElementScene::wasCopiedFromThisElement.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00637">elementscene.cpp:637</a></div></div>
<div class="ttc" id="aclassElementScene_html_af7b9418e460e3cf29e926a3d66f00492"><div class="ttname"><a href="../../dc/d39/classElementScene.html#af7b9418e460e3cf29e926a3d66f00492">ElementScene::m_paste_area</a></div><div class="ttdeci">QGraphicsRectItem * m_paste_area</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00079">elementscene.h:79</a></div></div>
<div class="ttc" id="aclassElementScene_html_ad39c873e6a5dd0b79f136bd0745fb4a2"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad39c873e6a5dd0b79f136bd0745fb4a2">ElementScene::addContent</a></div><div class="ttdeci">ElementContent addContent(const ElementContent &amp;)</div><div class="ttdoc">ElementScene::addContent Add content content to this element.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01185">elementscene.cpp:1185</a></div></div>
<div class="ttc" id="apartarc_8h_html"><div class="ttname"><a href="../../d8/d67/partarc_8h.html">partarc.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a388c81c8235372cc981eccbf6637f81b"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a388c81c8235372cc981eccbf6637f81b">ElementScene::selectedContent</a></div><div class="ttdeci">virtual ElementContent selectedContent() const</div><div class="ttdoc">ElementScene::selectedContent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00977">elementscene.cpp:977</a></div></div>
<div class="ttc" id="aclassElementScene_html_a761158cfea0f93492d2a4945077a5aca"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a761158cfea0f93492d2a4945077a5aca">ElementScene::m_y_grid</a></div><div class="ttdeci">int m_y_grid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00088">elementscene.h:88</a></div></div>
<div class="ttc" id="aclassNamesList_html_ac8b27013be75c5ee766a0b86a31d0150"><div class="ttname"><a href="../../dc/d0a/classNamesList.html#ac8b27013be75c5ee766a0b86a31d0150">NamesList::fromXml</a></div><div class="ttdeci">void fromXml(const QDomElement &amp;, const QHash&lt; QString, QString &gt; &amp;=QHash&lt; QString, QString &gt;())</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd5/nameslist_8cpp_source.html#l00113">nameslist.cpp:113</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a3e09470f54cac0479a7cd4492c2a1cb6"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a3e09470f54cac0479a7cd4492c2a1cb6">QET::Icons::Cancel</a></div><div class="ttdeci">QIcon Cancel</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00034">qeticons.cpp:34</a></div></div>
<div class="ttc" id="aclassElementScene_html_a959201929569e19b5ffd8cdd63d71bd5"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a959201929569e19b5ffd8cdd63d71bd5">ElementScene::mousePressEvent</a></div><div class="ttdeci">void mousePressEvent(QGraphicsSceneMouseEvent *) override</div><div class="ttdoc">ElementScene::mousePressEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00128">elementscene.cpp:128</a></div></div>
<div class="ttc" id="aclassElementPropertiesEditorWidget_html"><div class="ttname"><a href="../../d2/d8d/classElementPropertiesEditorWidget.html">ElementPropertiesEditorWidget</a></div><div class="ttdoc">The ElementPropertiesEditorWidget class This class provide a dialog for edit various property of elem...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/elementpropertieseditorwidget_8h_source.html#l00034">elementpropertieseditorwidget.h:35</a></div></div>
<div class="ttc" id="aclassNamesList_html"><div class="ttname"><a href="../../dc/d0a/classNamesList.html">NamesList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d66/nameslist_8h_source.html#l00030">nameslist.h:30</a></div></div>
<div class="ttc" id="aclassElementScene_html_aae10a15f6f5e1ae4bff1033893562a94"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aae10a15f6f5e1ae4bff1033893562a94">ElementScene::slot_select</a></div><div class="ttdeci">void slot_select(const ElementContent &amp;)</div><div class="ttdoc">ElementScene::slot_select Select the item in content, every others items in the scene are deselected.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00706">elementscene.cpp:706</a></div></div>
<div class="ttc" id="aclassDiagramContext_html_a3823c5ca609be01afa5e5096e20a653e"><div class="ttname"><a href="../../d8/d0e/classDiagramContext.html#a3823c5ca609be01afa5e5096e20a653e">DiagramContext::toXml</a></div><div class="ttdeci">void toXml(QDomElement &amp;, const QString &amp;=&quot;property&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d79/diagramcontext_8cpp_source.html#l00142">diagramcontext.cpp:142</a></div></div>
<div class="ttc" id="anamespaceQET_html_a6120189feb0f6f9f03670651c4f561b5"><div class="ttname"><a href="../../d3/d9a/namespaceQET.html#a6120189feb0f6f9f03670651c4f561b5">QET::version</a></div><div class="ttdeci">const QString version</div><div class="ttdoc">QElectroTech version (as string, used to mark projects and elements XML documents)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d87/qet_8h_source.html#l00032">qet.h:32</a></div></div>
<div class="ttc" id="aclassElementScene_html_a97a656c3501d53578385266fb55931d7"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a97a656c3501d53578385266fb55931d7">ElementScene::clearEventInterface</a></div><div class="ttdeci">void clearEventInterface()</div><div class="ttdoc">ElementScene::clearEventInterface Clear the current event interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00333">elementscene.cpp:333</a></div></div>
<div class="ttc" id="aclassNameListWidget_html"><div class="ttname"><a href="../../d3/deb/classNameListWidget.html">NameListWidget</a></div><div class="ttdoc">The NameListWidget class Provide a widget for let user define localized string;.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de3/namelistwidget_8h_source.html#l00032">namelistwidget.h:33</a></div></div>
<div class="ttc" id="apartrectangle_8h_html"><div class="ttname"><a href="../../dc/d26/partrectangle_8h.html">partrectangle.h</a></div></div>
<div class="ttc" id="aelementscene_8h_html"><div class="ttname"><a href="../../da/df0/elementscene_8h.html">elementscene.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_aff0be7a149e03e5775982fc3a42f9c39"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aff0be7a149e03e5775982fc3a42f9c39">ElementScene::elementSceneGeometricRect</a></div><div class="ttdeci">QRectF elementSceneGeometricRect() const</div><div class="ttdoc">ElementScene::elementSceneGeometricRect.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00569">elementscene.cpp:569</a></div></div>
<div class="ttc" id="aparttext_8h_html"><div class="ttname"><a href="../../d1/d6a/parttext_8h.html">parttext.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a794e576d4ebf6c756cc138e7a4ba8b6f"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a794e576d4ebf6c756cc138e7a4ba8b6f">ElementScene::slot_editNames</a></div><div class="ttdeci">void slot_editNames()</div><div class="ttdoc">ElementScene::slot_editNames Launch a dialog for edit the names of the edited element.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00864">elementscene.cpp:864</a></div></div>
<div class="ttc" id="aeseventinterface_8h_html"><div class="ttname"><a href="../../d3/dc9/eseventinterface_8h.html">eseventinterface.h</a></div></div>
<div class="ttc" id="aclassChangeNamesCommand_html"><div class="ttname"><a href="../../dc/dc0/classChangeNamesCommand.html">ChangeNamesCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/editorcommands_8h_source.html#l00149">editorcommands.h:149</a></div></div>
<div class="ttc" id="aqpropertyundocommand_8h_html"><div class="ttname"><a href="../../d0/d34/qpropertyundocommand_8h.html">qpropertyundocommand.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a822f0983b590fe73719f8c881ebeee3e"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a822f0983b590fe73719f8c881ebeee3e">ElementScene::slot_selectAll</a></div><div class="ttdeci">void slot_selectAll()</div><div class="ttdoc">ElementScene::slot_selectAll Select all items.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00736">elementscene.cpp:736</a></div></div>
<div class="ttc" id="aqetgraphicshandleritem_8h_html"><div class="ttname"><a href="../../db/d91/qetgraphicshandleritem_8h.html">qetgraphicshandleritem.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_a7595c1ef4832c64714b5d2edda87ca2f"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a7595c1ef4832c64714b5d2edda87ca2f">ElementScene::centerElementToOrigine</a></div><div class="ttdeci">void centerElementToOrigine()</div><div class="ttdoc">ElementScene::centerElementToOrigine try to center better is possible the element to the scene (the c...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01291">elementscene.cpp:1291</a></div></div>
<div class="ttc" id="aclassElementScene_html_af7510397f99d46998a997a72f49e29b9"><div class="ttname"><a href="../../dc/d39/classElementScene.html#af7510397f99d46998a997a72f49e29b9">ElementScene::informations</a></div><div class="ttdeci">QString informations() const</div><div class="ttdoc">ElementScene::informations.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00203">elementscene.h:203</a></div></div>
<div class="ttc" id="aeditorcommands_8h_html"><div class="ttname"><a href="../../dd/d20/editorcommands_8h.html">editorcommands.h</a></div></div>
<div class="ttc" id="aclassNameListWidget_html_a7d835d5692e75391035ad2a9064f9d1c"><div class="ttname"><a href="../../d3/deb/classNameListWidget.html#a7d835d5692e75391035ad2a9064f9d1c">NameListWidget::names</a></div><div class="ttdeci">NamesList names() const</div><div class="ttdoc">NameListWidget::names.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/namelistwidget_8cpp_source.html#l00082">namelistwidget.cpp:82</a></div></div>
<div class="ttc" id="aclassElementScene_html_aa3e11616526b8f3ca85cc50684c4e34d"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aa3e11616526b8f3ca85cc50684c4e34d">ElementScene::getPasteArea</a></div><div class="ttdeci">virtual void getPasteArea(const QRectF &amp;)</div><div class="ttdoc">ElementScene::getPasteArea.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00992">elementscene.cpp:992</a></div></div>
<div class="ttc" id="aclassElementScene_html_a959a2777728711b571fb098ca024d680"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a959a2777728711b571fb098ca024d680">ElementScene::setBehavior</a></div><div class="ttdeci">void setBehavior(ElementScene::Behavior)</div><div class="ttdoc">ElementScene::setBehavior Modify the current behavior of this scene.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00348">elementscene.cpp:348</a></div></div>
<div class="ttc" id="aclassElementScene_html_a242049a34705215bd2b3a16520174d62"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a242049a34705215bd2b3a16520174d62">ElementScene::ElementScene</a></div><div class="ttdeci">ElementScene(QETElementEditor *, QObject *=nullptr)</div><div class="ttdoc">ElementScene::ElementScene constructor.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00051">elementscene.cpp:51</a></div></div>
<div class="ttc" id="aclassElementScene_html_a2ddd186008468a5f821a43f400b9a85c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a2ddd186008468a5f821a43f400b9a85c">ElementScene::slot_editAuthorInformations</a></div><div class="ttdeci">void slot_editAuthorInformations()</div><div class="ttdoc">ElementScene::slot_editAuthorInformations Starts a dialog to edit the additional information of this ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00790">elementscene.cpp:790</a></div></div>
<div class="ttc" id="aclassElementScene_html_a41b82fb807558e2c5f27d8ccc57c8068"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a41b82fb807558e2c5f27d8ccc57c8068">ElementScene::needZoomFit</a></div><div class="ttdeci">void needZoomFit()</div><div class="ttdoc">Signal emitted when need zoomFit.</div></div>
<div class="ttc" id="aclassElementScene_html_ad46862fc1a21cd68f4c0e8d60ca96bea"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad46862fc1a21cd68f4c0e8d60ca96bea">ElementScene::addContentAtPos</a></div><div class="ttdeci">ElementContent addContentAtPos(const ElementContent &amp;, const QPointF &amp;)</div><div class="ttdoc">ElementScene::addContentAtPos Add content content to this element.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01205">elementscene.cpp:1205</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a83e96bc1776c3e38f33cdf357372a051"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a83e96bc1776c3e38f33cdf357372a051">QET::Icons::PartText</a></div><div class="ttdeci">QIcon PartText</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00134">qeticons.cpp:134</a></div></div>
<div class="ttc" id="aclassElementScene_html_a94233524dc9daae50598336aced244cbac857dcec2d374ab792f35188da94bb8f"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a94233524dc9daae50598336aced244cbac857dcec2d374ab792f35188da94bb8f">ElementScene::Normal</a></div><div class="ttdeci">@ Normal</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00046">elementscene.h:46</a></div></div>
<div class="ttc" id="aclassElementScene_html_a124bd6d37e65f0cc2ca751e8fb2ab5b7"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a124bd6d37e65f0cc2ca751e8fb2ab5b7">ElementScene::elementInfoChanged</a></div><div class="ttdeci">void elementInfoChanged()</div></div>
<div class="ttc" id="aclassCutPartsCommand_html"><div class="ttname"><a href="../../da/d3e/classCutPartsCommand.html">CutPartsCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/editorcommands_8h_source.html#l00087">editorcommands.h:87</a></div></div>
<div class="ttc" id="aclassElementScene_html_a530ebbcc55a3a588e333a039435daeef"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a530ebbcc55a3a588e333a039435daeef">ElementScene::zValueLessThan</a></div><div class="ttdeci">static bool zValueLessThan(QGraphicsItem *, QGraphicsItem *)</div><div class="ttdoc">ElementScene::zValueLessThan.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01282">elementscene.cpp:1282</a></div></div>
<div class="ttc" id="aclassElementScene_html_a85655df78cc5e75aba310f2134a7125f"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a85655df78cc5e75aba310f2134a7125f">ElementScene::m_x_grid</a></div><div class="ttdeci">int m_x_grid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00087">elementscene.h:87</a></div></div>
<div class="ttc" id="aclassElementScene_html_aec2c7176005839bff591e49727c0ce10"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aec2c7176005839bff591e49727c0ce10">ElementScene::m_element_editor</a></div><div class="ttdeci">QETElementEditor * m_element_editor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00077">elementscene.h:77</a></div></div>
<div class="ttc" id="aclassElementScene_html_a8133ab486575010a03d380985146d8af"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a8133ab486575010a03d380985146d8af">ElementScene::setGrid</a></div><div class="ttdeci">virtual void setGrid(int, int)</div><div class="ttdoc">ElementScene::setGrid.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00381">elementscene.cpp:381</a></div></div>
<div class="ttc" id="aclassElementScene_html_afff694d43d9033f8f7de6d1d332bff46"><div class="ttname"><a href="../../dc/d39/classElementScene.html#afff694d43d9033f8f7de6d1d332bff46">ElementScene::slot_editProperties</a></div><div class="ttdeci">void slot_editProperties()</div><div class="ttdoc">ElementScene::slot_editProperties Open dialog to edit the element properties.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00842">elementscene.cpp:842</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637aa200ac7d50d269a99fef9cc5d80d3412"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637aa200ac7d50d269a99fef9cc5d80d3412">ElementScene::IncludeTerminals</a></div><div class="ttdeci">@ IncludeTerminals</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00049">elementscene.h:49</a></div></div>
<div class="ttc" id="aclassElementScene_html_a66dd809b234740751895bf8c23d4363e"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a66dd809b234740751895bf8c23d4363e">ElementScene::yGrid</a></div><div class="ttdeci">virtual int yGrid() const</div><div class="ttdoc">ElementScene::yGrid.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00370">elementscene.cpp:370</a></div></div>
<div class="ttc" id="aclassElementScene_html_a692ea98eeaa2201456009c878f5ed80c"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a692ea98eeaa2201456009c878f5ed80c">ElementScene::addPrimitive</a></div><div class="ttdeci">void addPrimitive(QGraphicsItem *)</div><div class="ttdoc">ElementScene::addPrimitive Add a primitive to the scene by wrapping it within an ElementPrimitiveDeco...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01233">elementscene.cpp:1233</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637ae80f9ee5d96ba60efc7878bdb709e9ea"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ae80f9ee5d96ba60efc7878bdb709e9ea">ElementScene::IncludeHelperItems</a></div><div class="ttdeci">@ IncludeHelperItems</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00050">elementscene.h:50</a></div></div>
<div class="ttc" id="aclassElementScene_html_a0a8beda6d410ea2cb305403bf33a7dc2"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a0a8beda6d410ea2cb305403bf33a7dc2">ElementScene::m_decorator</a></div><div class="ttdeci">ElementPrimitiveDecorator * m_decorator</div><div class="ttdoc">Decorator item displayed when at least one item is selected.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00085">elementscene.h:85</a></div></div>
<div class="ttc" id="aelementcontent_8h_html"><div class="ttname"><a href="../../da/d17/elementcontent_8h.html">elementcontent.h</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_ac7fd16d9ced151b227624b9b9823fa53"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#ac7fd16d9ced151b227624b9b9823fa53">QET::Icons::PartPolygon</a></div><div class="ttdeci">QIcon PartPolygon</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00131">qeticons.cpp:131</a></div></div>
<div class="ttc" id="aclassNameListDialog_html_a6fa6c2a231ba5bb1457b9d15bca61d77"><div class="ttname"><a href="../../d3/de6/classNameListDialog.html#a6fa6c2a231ba5bb1457b9d15bca61d77">NameListDialog::namelistWidget</a></div><div class="ttdeci">NameListWidget * namelistWidget() const</div><div class="ttdoc">NameListDialog::namelistWidget.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df2/namelistdialog_8cpp_source.html#l00051">namelistdialog.cpp:51</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a2214dd8cb3c9f256feb10f23a08a2b49"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a2214dd8cb3c9f256feb10f23a08a2b49">QET::Icons::PartEllipse</a></div><div class="ttdeci">QIcon PartEllipse</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00129">qeticons.cpp:129</a></div></div>
<div class="ttc" id="aclassDiagramContext_html"><div class="ttname"><a href="../../d8/d0e/classDiagramContext.html">DiagramContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3c/diagramcontext_8h_source.html#l00055">diagramcontext.h:56</a></div></div>
<div class="ttc" id="aclassElementScene_html_a290fcb4406aef24965ce25f298fdb6ad"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a290fcb4406aef24965ce25f298fdb6ad">ElementScene::m_behavior</a></div><div class="ttdeci">Behavior m_behavior</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00076">elementscene.h:76</a></div></div>
<div class="ttc" id="aclassQETElementEditor_html"><div class="ttname"><a href="../../dc/d67/classQETElementEditor.html">QETElementEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/qetelementeditor_8h_source.html#l00033">qetelementeditor.h:33</a></div></div>
<div class="ttc" id="aclassElementScene_html_a95302803521bd0730736d9a14c4e6b01"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a95302803521bd0730736d9a14c4e6b01">ElementScene::ChangePropertiesCommand</a></div><div class="ttdeci">friend class ChangePropertiesCommand</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00041">elementscene.h:41</a></div></div>
<div class="ttc" id="aclassChangeInformationsCommand_html"><div class="ttname"><a href="../../de/d45/classChangeInformationsCommand.html">ChangeInformationsCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/editorcommands_8h_source.html#l00207">editorcommands.h:207</a></div></div>
<div class="ttc" id="aclassElementScene_html_a38d64c732d249ff8946de29b96a8e4bb"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a38d64c732d249ff8946de29b96a8e4bb">ElementScene::pasteAreaDefined</a></div><div class="ttdeci">void pasteAreaDefined(const QRectF &amp;)</div><div class="ttdoc">Signal emitted when users have defined the copy/paste area.</div></div>
<div class="ttc" id="aclassPartText_html"><div class="ttname"><a href="../../db/db1/classPartText.html">PartText</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/parttext_8h_source.html#l00030">parttext.h:30</a></div></div>
<div class="ttc" id="aclassElementScene_html_a4bbee5837c360a8e85a6caf63b3c7220"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a4bbee5837c360a8e85a6caf63b3c7220">ElementScene::initPasteArea</a></div><div class="ttdeci">void initPasteArea()</div><div class="ttdoc">ElementScene::initPasteArea Initializes the paste area.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01243">elementscene.cpp:1243</a></div></div>
<div class="ttc" id="aclassNameListWidget_html_a1eb45a6e7fe938c8b6505a051f4e3b9a"><div class="ttname"><a href="../../d3/deb/classNameListWidget.html#a1eb45a6e7fe938c8b6505a051f4e3b9a">NameListWidget::setNames</a></div><div class="ttdeci">void setNames(const NamesList &amp;name_list)</div><div class="ttdoc">NameListWidget::setNames Set the current names of this dialog from name_list.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/namelistwidget_8cpp_source.html#l00060">namelistwidget.cpp:60</a></div></div>
<div class="ttc" id="aclassPartDynamicTextField_html"><div class="ttname"><a href="../../d1/db3/classPartDynamicTextField.html">PartDynamicTextField</a></div><div class="ttdoc">The PartDynamicTextField class This class represents an editable dynamic text field which may be used...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d50/partdynamictextfield_8h_source.html#l00033">partdynamictextfield.h:34</a></div></div>
<div class="ttc" id="aclassElementScene_html_a32ca48682f0648be7e22a470c0148c03"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a32ca48682f0648be7e22a470c0148c03">ElementScene::loadContent</a></div><div class="ttdeci">ElementContent loadContent(const QDomDocument &amp;)</div><div class="ttdoc">ElementScene::loadContent Create and load the content describe in the xml document.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01113">elementscene.cpp:1113</a></div></div>
<div class="ttc" id="aclassElementScene_html_aca845aacb6df321c7d5f8eeb8139ff1d"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aca845aacb6df321c7d5f8eeb8139ff1d">ElementScene::partsRemoved</a></div><div class="ttdeci">void partsRemoved()</div><div class="ttdoc">Signal emitted after one or several parts were removed.</div></div>
<div class="ttc" id="aclassElementScene_html_a5f1a5e3a36e7447848af51bff62852d8"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a5f1a5e3a36e7447848af51bff62852d8">ElementScene::m_event_interface</a></div><div class="ttdeci">ESEventInterface * m_event_interface</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00075">elementscene.h:75</a></div></div>
<div class="ttc" id="aclassElementScene_html_a322b7ded578f70c57cddac45104ad2cc"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a322b7ded578f70c57cddac45104ad2cc">ElementScene::setElementInfo</a></div><div class="ttdeci">void setElementInfo(const DiagramContext &amp;dc)</div><div class="ttdoc">ElementScene::setElementInfo.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00691">elementscene.cpp:691</a></div></div>
<div class="ttc" id="aclassDeletePartsCommand_html"><div class="ttname"><a href="../../dc/dcd/classDeletePartsCommand.html">DeletePartsCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/editorcommands_8h_source.html#l00065">editorcommands.h:65</a></div></div>
<div class="ttc" id="aclassElementScene_html_a4cbc09dc12b017e35a511c434cc3d479"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a4cbc09dc12b017e35a511c434cc3d479">ElementScene::m_last_copied</a></div><div class="ttdeci">QString m_last_copied</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00082">elementscene.h:82</a></div></div>
<div class="ttc" id="aclassElementScene_html_a2821ebd1bdd60dbb95840aef0399c1f8"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a2821ebd1bdd60dbb95840aef0399c1f8">ElementScene::elementContentBoundingRect</a></div><div class="ttdeci">QRectF elementContentBoundingRect(const ElementContent &amp;) const</div><div class="ttdoc">ElementScene::elementContentBoundingRect.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01039">elementscene.cpp:1039</a></div></div>
<div class="ttc" id="aclassNameListDialog_html"><div class="ttname"><a href="../../d3/de6/classNameListDialog.html">NameListDialog</a></div><div class="ttdoc">The NameListDialog class Provide a dialog for let user define localized string;.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d83/namelistdialog_8h_source.html#l00033">namelistdialog.h:34</a></div></div>
<div class="ttc" id="aclassElementScene_html_a5327a3a218b11d91f6c008f50760dae5"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a5327a3a218b11d91f6c008f50760dae5">ElementScene::stackAction</a></div><div class="ttdeci">void stackAction(ElementEditionCommand *)</div><div class="ttdoc">ElementScene::stackAction Push the provided command on the undo stack.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01364">elementscene.cpp:1364</a></div></div>
<div class="ttc" id="anamelistwidget_8h_html"><div class="ttname"><a href="../../df/de3/namelistwidget_8h.html">namelistwidget.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_aabfc241b8e469fa4e3e5d665ba385e1a"><div class="ttname"><a href="../../dc/d39/classElementScene.html#aabfc241b8e469fa4e3e5d665ba385e1a">ElementScene::m_elmt_type</a></div><div class="ttdeci">QString m_elmt_type</div><div class="ttdoc">Extra informations.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00069">elementscene.h:69</a></div></div>
<div class="ttc" id="aclassPartTerminal_html"><div class="ttname"><a href="../../d2/d50/classPartTerminal.html">PartTerminal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de5/partterminal_8h_source.html#l00030">partterminal.h:30</a></div></div>
<div class="ttc" id="aclassElementScene_html_a3af3be14b7b65c64de4d1a251f63b310"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a3af3be14b7b65c64de4d1a251f63b310">ElementScene::drawForeground</a></div><div class="ttdeci">void drawForeground(QPainter *, const QRectF &amp;) override</div><div class="ttdoc">ElementScene::drawForeground Draws the background of the editor, ie the hotspot indicator.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00294">elementscene.cpp:294</a></div></div>
<div class="ttc" id="aclassNameListWidget_html_a01f29a5b5dfebad7b7014996b7e88ee6"><div class="ttname"><a href="../../d3/deb/classNameListWidget.html#a01f29a5b5dfebad7b7014996b7e88ee6">NameListWidget::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">NameListWidget::isEmpty.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/namelistwidget_8cpp_source.html#l00125">namelistwidget.cpp:125</a></div></div>
<div class="ttc" id="aclassElementScene_html_a4dc341bcb04b44bd1dafecae77ea8a44"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a4dc341bcb04b44bd1dafecae77ea8a44">ElementScene::editor</a></div><div class="ttdeci">QETElementEditor * editor() const</div><div class="ttdoc">ElementScene::editor.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00683">elementscene.cpp:683</a></div></div>
<div class="ttc" id="apartpolygon_8h_html"><div class="ttname"><a href="../../da/d70/partpolygon_8h.html">partpolygon.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637a8622bfd89460dc0ba8fe573a3e050d80"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a8622bfd89460dc0ba8fe573a3e050d80">ElementScene::SortByZValue</a></div><div class="ttdeci">@ SortByZValue</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00048">elementscene.h:48</a></div></div>
<div class="ttc" id="aclassElementScene_html_a92253ebe968e0835580d57cfac5467a6"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a92253ebe968e0835580d57cfac5467a6">ElementScene::boundingRectFromXml</a></div><div class="ttdeci">virtual QRectF boundingRectFromXml(const QDomDocument &amp;)</div><div class="ttdoc">ElementScene::boundingRectFromXml.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00496">elementscene.cpp:496</a></div></div>
<div class="ttc" id="aclassPartText_html_a5201ade558430116c7589a9379464ef0ab96b8e45191ed836f7acb6ea67064bfc"><div class="ttname"><a href="../../db/db1/classPartText.html#a5201ade558430116c7589a9379464ef0ab96b8e45191ed836f7acb6ea67064bfc">PartText::Type</a></div><div class="ttdeci">@ Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6a/parttext_8h_source.html#l00052">parttext.h:52</a></div></div>
<div class="ttc" id="apartdynamictextfield_8h_html"><div class="ttname"><a href="../../de/d50/partdynamictextfield_8h.html">partdynamictextfield.h</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637a58c5e3154b1044bb20e5180a99ecf122"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637a58c5e3154b1044bb20e5180a99ecf122">ElementScene::NonSelected</a></div><div class="ttdeci">@ NonSelected</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00052">elementscene.h:52</a></div></div>
<div class="ttc" id="aclassPartDynamicTextField_html_a0925be5e00e8aa2d58064e949cf55518"><div class="ttname"><a href="../../d1/db3/classPartDynamicTextField.html#a0925be5e00e8aa2d58064e949cf55518">PartDynamicTextField::fromTextFieldXml</a></div><div class="ttdeci">void fromTextFieldXml(const QDomElement &amp;dom_element)</div><div class="ttdoc">PartDynamicTextField::fromTextFieldXml Setup this text from the xml definition of a text field (The x...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d94/partdynamictextfield_8cpp_source.html#l00225">partdynamictextfield.cpp:225</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_ab493e6862637b8bdf85b94b1b3ad967d"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#ab493e6862637b8bdf85b94b1b3ad967d">QET::Icons::PartRectangle</a></div><div class="ttdeci">QIcon PartRectangle</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00132">qeticons.cpp:132</a></div></div>
<div class="ttc" id="aclassElementScene_html_ad99e35c5e2967b51343bebf2017915b5"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ad99e35c5e2967b51343bebf2017915b5">ElementScene::xGrid</a></div><div class="ttdeci">virtual int xGrid() const</div><div class="ttdoc">ElementScene::xGrid.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l00361">elementscene.cpp:361</a></div></div>
<div class="ttc" id="aclassElementScene_html_a6c3848ebd6394b60a812b9e85f9754b8"><div class="ttname"><a href="../../dc/d39/classElementScene.html#a6c3848ebd6394b60a812b9e85f9754b8">ElementScene::reset</a></div><div class="ttdeci">virtual void reset()</div><div class="ttdoc">ElementScene::reset Remove all QGraphicsItems in the scene and clear the undo stack.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d64/elementscene_8cpp_source.html#l01006">elementscene.cpp:1006</a></div></div>
<div class="ttc" id="aclassElementScene_html_ae6836d2e2e30fcc59bd9051527695637ad42313f2d7b532c46529cfd39b7373c7"><div class="ttname"><a href="../../dc/d39/classElementScene.html#ae6836d2e2e30fcc59bd9051527695637ad42313f2d7b532c46529cfd39b7373c7">ElementScene::Selected</a></div><div class="ttdeci">@ Selected</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df0/elementscene_8h_source.html#l00051">elementscene.h:51</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
