<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QElectroTech: diagramview.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QElectroTech
   &#160;<span id="projectnumber">0.80</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">diagramview.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/da0/diagramview_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">    Copyright 2006-2020 The QElectroTech Team</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    This file is part of QElectroTech.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    QElectroTech is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    the Free Software Foundation, either version 2 of the License, or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">    (at your option) any later version.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">    QElectroTech is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    along with QElectroTech.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db2/diagramview_8h.html">diagramview.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d1b/diagram_8h.html">diagram.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d0f/conductor_8h.html">qetgraphicsitem/conductor.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d8a/diagramcommands_8h.html">diagramcommands.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d1a/diagramposition_8h.html">diagramposition.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d97/conductorpropertieswidget_8h.html">conductorpropertieswidget.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dcc/conductortextitem_8h.html">qetgraphicsitem/conductortextitem.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d9b/independenttextitem_8h.html">qetgraphicsitem/independenttextitem.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dbb/diagramimageitem_8h.html">qetgraphicsitem/diagramimageitem.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d89/templatelocation_8h.html">templatelocation.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/db4/qetproject_8h.html">qetproject.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d89/projectview_8h.html">projectview.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/db7/integrationmovetemplateshandler_8h.html">integrationmovetemplateshandler.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/db5/qetdiagrameditor_8h.html">qetdiagrameditor.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/dea/qeticons_8h.html">qeticons.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d5e/qetmessagebox_8h.html">qetmessagebox.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;QGraphicsObject&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;QGraphicsPixmapItem&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;QGraphicsSceneMouseEvent&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d03/elementfactory_8h.html">factory/elementfactory.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d4f/diagrampropertiesdialog_8h.html">diagrampropertiesdialog.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d33/dveventinterface_8h.html">dveventinterface.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d09/diagrameventaddelement_8h.html">diagrameventaddelement.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d34/qpropertyundocommand_8h.html">QPropertyUndoCommand/qpropertyundocommand.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d42/qetshapeitem_8h.html">qetshapeitem.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/def/deleteqgraphicsitemcommand_8h.html">undocommand/deleteqgraphicsitemcommand.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d3b/dynamicelementtextitem_8h.html">dynamicelementtextitem.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d56/multipastedialog_8h.html">multipastedialog.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d24/changetitleblockcommand_8h.html">changetitleblockcommand.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d87/conductorcreator_8h.html">conductorcreator.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aa7ddeae989deaf45dc87f9b4614152c0">   54</a></span>&#160;<a class="code" href="../../d8/dfc/classDiagramView.html#aa7ddeae989deaf45dc87f9b4614152c0">DiagramView::DiagramView</a>(<a class="code" href="../../da/d91/classDiagram.html">Diagram</a> *diagram, QWidget *parent) :</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    QGraphicsView (parent),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    m_diagram (diagram)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    grabGesture(Qt::PinchGesture);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    setAttribute(Qt::WA_DeleteOnClose, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    setInteractive(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    QString whatsthis = <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="stringliteral">&quot;Ceci est la zone dans laquelle vous concevez vos schémas en y ajoutant&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="stringliteral">&quot; des éléments et en posant des conducteurs entre leurs bornes. Il est&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="stringliteral">&quot; également possible d&#39;ajouter des textes indépendants.&quot;</span>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="stringliteral">&quot;\&quot;What&#39;s this?\&quot; tip&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    setWhatsThis(whatsthis);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// active l&#39;antialiasing</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    setRenderHint(QPainter::Antialiasing, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    setRenderHint(QPainter::TextAntialiasing, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    setScene(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; undoStack().setClean();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    setWindowIcon(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#a8c345081e2742d22f960b499b8b3aaae">QET::Icons::QETLogo</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    setTransformationAnchor(QGraphicsView::AnchorUnderMouse);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    setResizeAnchor(QGraphicsView::AnchorUnderMouse);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    setAlignment(Qt::AlignLeft | Qt::AlignTop);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#aebfb945f49df29498a7be76fd43e014c">setSelectionMode</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a925510992ae056b77312bca105cf61c3">updateWindowTitle</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a3c47d70020b2c9ba2802c6b8e28d031e">loadElmtFolioSeq</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a8c5e5c0996f65e27743d9b9084c3f582">loadCndFolioSeq</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a571e60fbaea7d02048361cf8e4f86149">m_paste_here</a> = <span class="keyword">new</span> QAction(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#ae90c54e45be9e8bf24ecc1175dba9e50">QET::Icons::EditPaste</a>, <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Coller ici&quot;</span>, <span class="stringliteral">&quot;context menu action&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a571e60fbaea7d02048361cf8e4f86149">m_paste_here</a>, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/dfc/classDiagramView.html#a5cf31c8d5d2f6fcdced2411da94346cc">pasteHere</a>()));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#af0b15d4c18556cc95be95cd828405441">m_multi_paste</a> = <span class="keyword">new</span> QAction(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#ae90c54e45be9e8bf24ecc1175dba9e50">QET::Icons::EditPaste</a>, <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Collage multiple&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#af0b15d4c18556cc95be95cd828405441">m_multi_paste</a>, &amp;QAction::triggered, [<span class="keyword">this</span>]() {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="../../dd/d8d/classMultiPasteDialog.html">MultiPasteDialog</a> d(this-&gt;<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        d.exec();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    });</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">//setup three separators, to be use in context menu</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0 ; i&lt;3 ; ++i)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a> &lt;&lt; <span class="keyword">new</span> QAction(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a>.last()-&gt;setSeparator(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#a27cc041a29a46579db9104e9c681fcf2">showDiagram</a>(<a class="code" href="../../da/d91/classDiagram.html">Diagram</a>*)), <span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#a27cc041a29a46579db9104e9c681fcf2">showDiagram</a>(<a class="code" href="../../da/d91/classDiagram.html">Diagram</a>*)));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, SIGNAL(sceneRectChanged(QRectF)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>()));</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    connect(&amp;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; border_and_titleblock), SIGNAL(diagramTitleChanged(<span class="keyword">const</span> QString &amp;)), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/dfc/classDiagramView.html#a925510992ae056b77312bca105cf61c3">updateWindowTitle</a>()));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#a46ff138a4d563ab37600032acd475266">editElementRequired</a>(<a class="code" href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a>)), <span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#a46ff138a4d563ab37600032acd475266">editElementRequired</a>(<a class="code" href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a>)));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#aee1c7f4c80039734bd3c257605c094a8">findElementRequired</a>(<a class="code" href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a>)), <span class="keyword">this</span>, SIGNAL(<a class="code" href="../../d8/dfc/classDiagramView.html#aee1c7f4c80039734bd3c257605c094a8">findElementRequired</a>(<a class="code" href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a>)));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    QShortcut *edit_conductor_color_shortcut = <span class="keyword">new</span> QShortcut(QKeySequence(Qt::Key_F2), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    connect(edit_conductor_color_shortcut, SIGNAL(activated()), <span class="keyword">this</span>, SLOT(<a class="code" href="../../d8/dfc/classDiagramView.html#a77dfd05b914003b680de3568deefacca">editSelectedConductorColor</a>()));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a14487c53fbccfca6897d7c211992006f">  116</a></span>&#160;<a class="code" href="../../d8/dfc/classDiagramView.html#a14487c53fbccfca6897d7c211992006f">DiagramView::~DiagramView</a>() {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aad37f24af2dcab17739c45e178e86031">  122</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aad37f24af2dcab17739c45e178e86031">DiagramView::selectAll</a>() {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; <a class="code" href="../../d8/dfc/classDiagramView.html#aad37f24af2dcab17739c45e178e86031">selectAll</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a09ee8115738f2dc87c45cce5bac5fabf">  129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a09ee8115738f2dc87c45cce5bac5fabf">DiagramView::selectNothing</a>() {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; deselectAll();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ac59dfc5a83f6e86696bdb4301488713a">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ac59dfc5a83f6e86696bdb4301488713a">DiagramView::selectInvert</a>() {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; invertSelection();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a1e8975e5bae1c85ee7ba9f0c8571f6f7">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a1e8975e5bae1c85ee7ba9f0c8571f6f7">DiagramView::dragEnterEvent</a>(QDragEnterEvent *e) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasFormat(<span class="stringliteral">&quot;application/x-qet-element-uri&quot;</span>)) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        e -&gt; acceptProposedAction();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasFormat(<span class="stringliteral">&quot;application/x-qet-titleblock-uri&quot;</span>)) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        e -&gt; acceptProposedAction();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasText()) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        e -&gt; acceptProposedAction();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        e -&gt; ignore();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ac20650e20b53521d959aeee308629711">  160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ac20650e20b53521d959aeee308629711">DiagramView::dragMoveEvent</a>(QDragMoveEvent *e) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasFormat(<span class="stringliteral">&quot;text/plain&quot;</span>)) e -&gt; acceptProposedAction();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">else</span> e-&gt; ignore();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aaafc031a8acad3902341476567b01a71">  169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aaafc031a8acad3902341476567b01a71">DiagramView::dropEvent</a>(QDropEvent *e) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasFormat(<span class="stringliteral">&quot;application/x-qet-element-uri&quot;</span>)) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#aaf7d1f38234252ec46a4a8fc761d2538">handleElementDrop</a>(e);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasFormat(<span class="stringliteral">&quot;application/x-qet-titleblock-uri&quot;</span>)) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a693cda43ac88d056c78df1abd938a654">handleTitleBlockDrop</a>(e);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasText()) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#ab1fcc9eeb37a899a5f95856d85717f66">handleTextDrop</a>(e);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aaf7d1f38234252ec46a4a8fc761d2538">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aaf7d1f38234252ec46a4a8fc761d2538">DiagramView::handleElementDrop</a>(QDropEvent *event)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">//Build an element from the text of the mime data</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a> location(<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>-&gt;mimeData()-&gt;text());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> ( !(location.<a class="code" href="../../d6/d3b/classElementsLocation.html#a45f9e8dbe179a42f73a8ea0625bddc7e">isElement</a>() &amp;&amp; location.<a class="code" href="../../d6/d3b/classElementsLocation.html#acfded834f9b1e5b0fc2b0933a107ff1e">exist</a>()) )</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;DiagramView::handleElementDrop, location can&#39;t be use : &quot;</span> &lt;&lt; location;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>()-&gt;<a class="code" href="../../da/d91/classDiagram.html#a78aef560f1bece3ef45a24ae59394f39">setEventInterface</a>(<span class="keyword">new</span> <a class="code" href="../../de/dd0/classDiagramEventAddElement.html">DiagramEventAddElement</a>(location, <a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>(), mapToScene(<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>-&gt;pos())));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="comment">//Set focus to the view to get event</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    this-&gt;setFocus();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a693cda43ac88d056c78df1abd938a654">  206</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a693cda43ac88d056c78df1abd938a654">DiagramView::handleTitleBlockDrop</a>(QDropEvent *e) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// fetch the title block template location from the drop event</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html">TitleBlockTemplateLocation</a> tbt_loc;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#a97382fc9bee1bd7a1bb5acfeba54b15c">fromString</a>(e-&gt;mimeData()-&gt;text());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#a7620093cfb6bb20c44683eddb82ba210">isValid</a>())</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="comment">// fetch the current title block properties</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="../../d8/d40/classTitleBlockProperties.html">TitleBlockProperties</a> titleblock_properties_before = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#acfcda4df4831d1ae62029d0046fd924a">border_and_titleblock</a>.<a class="code" href="../../db/d24/classBorderTitleBlock.html#af7ff69f6cf7cceebed9457f86c7eafd7">exportTitleBlock</a>();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// check the provided template is not already applied</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="../../d1/d80/classQETProject.html">QETProject</a> *tbt_parent_project = tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#a131c9cdffe2c74126efb079a82c8d53b">parentProject</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">if</span> (tbt_parent_project &amp;&amp; tbt_parent_project == <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; project())</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="comment">// same parent project and same name = same title block template</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">if</span> (tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#ab3e7bc602187c30fd6f95393334c9825">name</a>() == titleblock_properties_before.<a class="code" href="../../d8/d40/classTitleBlockProperties.html#aaf609ab92cbd58956f742bc6cff77a2e">template_name</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="comment">// integrate the provided template into the project if needed</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        QString integrated_template_name = tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#ab3e7bc602187c30fd6f95393334c9825">name</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a22f242c4ea8317aacd5dbaa70965d6bd">mustIntegrateTitleBlockTemplate</a>(tbt_loc))</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <a class="code" href="../../d0/df5/classIntegrationMoveTitleBlockTemplatesHandler.html">IntegrationMoveTitleBlockTemplatesHandler</a> *handler = <span class="keyword">new</span> <a class="code" href="../../d0/df5/classIntegrationMoveTitleBlockTemplatesHandler.html">IntegrationMoveTitleBlockTemplatesHandler</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="comment">//QString error_message;</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            integrated_template_name = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a8a2a4a08dce92d0eed86f94077e9cc84">project</a>()-&gt;<a class="code" href="../../d1/d80/classQETProject.html#a0c09108ed136c346d1c771f82cc5d5b8">integrateTitleBlockTemplate</a>(tbt_loc, handler);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span> (integrated_template_name.isEmpty())</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="comment">// apply the provided title block template</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (titleblock_properties_before.<a class="code" href="../../d8/d40/classTitleBlockProperties.html#aaf609ab92cbd58956f742bc6cff77a2e">template_name</a> == integrated_template_name)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="../../d8/d40/classTitleBlockProperties.html">TitleBlockProperties</a> titleblock_properties_after = titleblock_properties_before;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        titleblock_properties_after.<a class="code" href="../../d8/d40/classTitleBlockProperties.html#aaf609ab92cbd58956f742bc6cff77a2e">template_name</a> = integrated_template_name;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#aadc97c48501180ecd35ce25a8ebf161d">undoStack</a>().push(<span class="keyword">new</span> <a class="code" href="../../df/d38/classChangeTitleBlockCommand.html">ChangeTitleBlockCommand</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, titleblock_properties_before, titleblock_properties_after));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ab1fcc9eeb37a899a5f95856d85717f66">  255</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ab1fcc9eeb37a899a5f95856d85717f66">DiagramView::handleTextDrop</a>(QDropEvent *e) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly() || (e -&gt; mimeData() -&gt; hasText() == <span class="keyword">false</span>) ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="../../d1/de9/classIndependentTextItem.html">IndependentTextItem</a> *iti = <span class="keyword">new</span> <a class="code" href="../../d1/de9/classIndependentTextItem.html">IndependentTextItem</a> (e -&gt; mimeData() -&gt; text());</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (e -&gt; mimeData() -&gt; hasHtml()) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        iti -&gt; setHtml (e -&gt; mimeData() -&gt; text());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; undoStack().push(<span class="keyword">new</span> <a class="code" href="../../dd/d9a/classAddItemCommand.html">AddItemCommand&lt;IndependentTextItem *&gt;</a>(iti, <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, mapToScene(e-&gt;pos())));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a8307296ac08dc844fc80e201351538f2">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a8307296ac08dc844fc80e201351538f2">DiagramView::setVisualisationMode</a>() {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    setDragMode(ScrollHandDrag);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#adbecedf31ac1a433ff90957c279a7fae">applyReadOnly</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    setInteractive(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    emit(<a class="code" href="../../d8/dfc/classDiagramView.html#a7141346612e06306ebd736e3bc4e2cd2">modeChanged</a>());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aebfb945f49df29498a7be76fd43e014c">  280</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aebfb945f49df29498a7be76fd43e014c">DiagramView::setSelectionMode</a>() {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    setDragMode(RubberBandDrag);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    setInteractive(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#adbecedf31ac1a433ff90957c279a7fae">applyReadOnly</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    emit(<a class="code" href="../../d8/dfc/classDiagramView.html#a7141346612e06306ebd736e3bc4e2cd2">modeChanged</a>());</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">  294</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">DiagramView::zoom</a>(<span class="keyword">const</span> qreal zoom_factor)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (zoom_factor &gt;= 1){</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        scale(zoom_factor, zoom_factor);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        QSettings settings;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span> (settings.value(<span class="stringliteral">&quot;diagrameditor/zoom-out-beyond-of-folio&quot;</span>, <span class="keyword">false</span>).toBool() ||</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            (horizontalScrollBar()-&gt;maximum() || verticalScrollBar()-&gt;maximum()) )</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">if</span> (zoom_factor &gt;= 0){</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                scale(zoom_factor, zoom_factor);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a5ce477a5197fdfc394d662f8f71dc977">adjustSceneRect</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">adjustGridToZoom</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a399414a83cf6a524e386d2f88bb53cc8">  318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a399414a83cf6a524e386d2f88bb53cc8">DiagramView::zoomFit</a>() {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    fitInView(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;sceneRect(), Qt::KeepAspectRatio);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">adjustGridToZoom</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a33433edeba5640a48a04cd4752b08109">  327</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a33433edeba5640a48a04cd4752b08109">DiagramView::zoomContent</a>() {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    fitInView(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; itemsBoundingRect(), Qt::KeepAspectRatio);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">adjustGridToZoom</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a2f15f617047f891ecf17e6c9f9c7ae46">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a2f15f617047f891ecf17e6c9f9c7ae46">DiagramView::zoomReset</a>() {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    resetTransform();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">adjustGridToZoom</a>();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a2b6475f725358074f74fdc8d04acbe1b">  343</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a2b6475f725358074f74fdc8d04acbe1b">DiagramView::cut</a>() {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a5af62c27ecdd11e28a6b8a2da6ddfc60">copy</a>();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="../../d1/d19/classDiagramContent.html">DiagramContent</a> cut_content(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; clearSelection();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; undoStack().push(<span class="keyword">new</span> <a class="code" href="../../dc/dbd/classCutDiagramCommand.html">CutDiagramCommand</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, cut_content));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a5af62c27ecdd11e28a6b8a2da6ddfc60">  353</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a5af62c27ecdd11e28a6b8a2da6ddfc60">DiagramView::copy</a>() {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    QClipboard *presse_papier = QApplication::clipboard();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    QString contenu_presse_papier = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; toXml(<span class="keyword">false</span>).toString(4);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (presse_papier -&gt; supportsSelection()) presse_papier -&gt; setText(contenu_presse_papier, QClipboard::Selection);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    presse_papier -&gt; setText(contenu_presse_papier);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a076d36fec97e0d42e06ef5b1daf9b199">  366</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a076d36fec97e0d42e06ef5b1daf9b199">DiagramView::paste</a>(<span class="keyword">const</span> QPointF &amp;pos, QClipboard::Mode clipboard_mode) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (!isInteractive() || <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    QString texte_presse_papier = QApplication::clipboard() -&gt; text(clipboard_mode);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> ((texte_presse_papier).isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    QDomDocument document_xml;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (!document_xml.setContent(texte_presse_papier)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="../../d1/d19/classDiagramContent.html">DiagramContent</a> content_pasted;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a4421fe323f2ce7eb493489b4e1241184">fromXml</a>(document_xml, pos, <span class="keyword">false</span>, &amp;content_pasted);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">//If something was really added to diagram, we create an undo object.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (content_pasted.<a class="code" href="../../d1/d19/classDiagramContent.html#a69545c3ec624bc931c6a0bcfca0f7fa6">count</a>())</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; clearSelection();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; undoStack().push(<span class="keyword">new</span> <a class="code" href="../../d5/dcf/classPasteDiagramCommand.html">PasteDiagramCommand</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, content_pasted));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a5cf31c8d5d2f6fcdced2411da94346cc">  390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a5cf31c8d5d2f6fcdced2411da94346cc">DiagramView::pasteHere</a>() {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a076d36fec97e0d42e06ef5b1daf9b199">paste</a>(mapToScene(<a class="code" href="../../d8/dfc/classDiagramView.html#a75111e2faa3b4e7c1c1ce60c8908430c">m_paste_here_pos</a>));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aa296adc4261aefbb5daddf33995dda88">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aa296adc4261aefbb5daddf33995dda88">DiagramView::mousePressEvent</a>(QMouseEvent *e)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    e-&gt;ignore();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a530838f0dbecfbfa250d0bf4da6a201f">m_fresh_focus_in</a>)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a5f51ca4b6fe5a10ee02ebcdd45fc0c1c">switchToVisualisationModeIfNeeded</a>(e);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a530838f0dbecfbfa250d0bf4da6a201f">m_fresh_focus_in</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#ac28cfdf6aa5aa7dadc3d197258ecde67">mousePressEvent</a>(e)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="comment">//Start drag view when hold the middle button</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (e-&gt;button() == Qt::MidButton)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a65f648574976d628b025074e850f5a9b">m_drag_last_pos</a> = e-&gt;pos();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        viewport()-&gt;setCursor(Qt::ClosedHandCursor);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        e-&gt;accept();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">//There is a good luck that user want to do a free selection</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">//In this case we temporally disable the dragmode because if the QGraphicsScene don&#39;t accept the event,</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="comment">//and the drag mode is set to rubberbanddrag, the QGraphicsView start rubber band drag, and accept the event.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (e-&gt;button() == Qt::LeftButton &amp;&amp;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        e-&gt;modifiers() == Qt::CTRL)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        QGraphicsView::DragMode dm = dragMode();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        setDragMode(QGraphicsView::NoDrag);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        QGraphicsView::mousePressEvent(e);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        setDragMode(dm);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        QGraphicsView::mousePressEvent(e);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (e-&gt;isAccepted()) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (e-&gt;button() == Qt::LeftButton &amp;&amp;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;             e-&gt;modifiers() == Qt::CTRL)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a> = QPolygon();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        e-&gt;accept();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (!e-&gt;isAccepted()) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        QGraphicsView::mousePressEvent(e);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }   </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a79e13f1d3416ac401f2007cbc19b0ec6">  455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a79e13f1d3416ac401f2007cbc19b0ec6">DiagramView::mouseMoveEvent</a>(QMouseEvent *e)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;{</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#ae18da40d7a8c0b43a4badd50ba588431">mouseMoveEvent</a>(e)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">//Drag the view</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (e-&gt;buttons() == Qt::MidButton)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        QScrollBar *h = horizontalScrollBar();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        QScrollBar *v = verticalScrollBar();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        QPointF pos = <a class="code" href="../../d8/dfc/classDiagramView.html#a65f648574976d628b025074e850f5a9b">m_drag_last_pos</a> - e -&gt; pos();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a65f648574976d628b025074e850f5a9b">m_drag_last_pos</a> = e -&gt; pos();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        h -&gt; setValue(h -&gt; value() + pos.x());</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        v -&gt; setValue(v -&gt; value() + pos.y());</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">adjustSceneRect</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a>)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="comment">//Update old free rubberband</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::NoViewportUpdate &amp;&amp; !<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.isEmpty())</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::FullViewportUpdate) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                viewport()-&gt;update(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.boundingRect().toRect().adjusted(-10,-10,10,10));</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                update();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="comment">//Stop polygon rubberbanding if user has let go of all buttons (even</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="comment">//if we didn&#39;t get the release events)</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;buttons()) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a> = QPolygon();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.append(mapToScene(e-&gt;pos()));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        emit <a class="code" href="../../d8/dfc/classDiagramView.html#afb724fdd7f9d94570e516a72c481c912">freeRubberBandChanged</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::NoViewportUpdate)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::FullViewportUpdate) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                viewport()-&gt;update(mapFromScene(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.boundingRect().adjusted(-10,-10,10,10)));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                update();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="comment">//Set the new selection area</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        QPainterPath selection_area;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        selection_area.addPolygon(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;setSelectionArea(selection_area);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">else</span> QGraphicsView::mouseMoveEvent(e);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a16ee5472d3b2d0a82d1790de9b2d7c3d">  516</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a16ee5472d3b2d0a82d1790de9b2d7c3d">DiagramView::mouseReleaseEvent</a>(QMouseEvent *e)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#af2cb0e1e8f3b1ac57abdb53b7a644a42">mouseReleaseEvent</a>(e)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">//Stop drag view</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (e -&gt; button() == Qt::MidButton)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        viewport()-&gt;setCursor(Qt::ArrowCursor);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a> &amp;&amp; !e-&gt;buttons())</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::NoViewportUpdate)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">if</span> (viewportUpdateMode() != QGraphicsView::FullViewportUpdate)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                QRectF r(mapFromScene(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>).boundingRect());</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                r.adjust(-10, -10, 10, 10);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                viewport()-&gt;update(r.toRect());</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                update();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.count() &gt; 3)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="comment">//Popup a menu with an action to create conductors between</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="comment">//all selected terminals.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            QAction *act = <span class="keyword">new</span> QAction(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Connecter les bornes sélectionnées&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            QPolygonF polygon_ = <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            connect(act, &amp;QAction::triggered, [<span class="keyword">this</span>, polygon_]()</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <a class="code" href="../../d6/d5f/classConductorCreator.html#ab7493f92cdc329f0f305ff581a473ae9">ConductorCreator::create</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, polygon_);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>()-&gt;clearSelection();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            });</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            QMenu *menu = <span class="keyword">new</span> QMenu(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            menu-&gt;addAction(act);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            menu-&gt;popup(e-&gt;globalPos());</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a> = QPolygon();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        emit <a class="code" href="../../d8/dfc/classDiagramView.html#afb724fdd7f9d94570e516a72c481c912">freeRubberBandChanged</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        e-&gt;accept();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        QGraphicsView::mouseReleaseEvent(e);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a6b047b2c7b957b925df37f8b52b25e62">  570</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a6b047b2c7b957b925df37f8b52b25e62">DiagramView::gestures</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    QSettings settings;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">return</span>(settings.value(<span class="stringliteral">&quot;diagramview/gestures&quot;</span>, <span class="keyword">false</span>).toBool());</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a39272e0381fbee50c3ce89ad115e61b8">  581</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a39272e0381fbee50c3ce89ad115e61b8">DiagramView::wheelEvent</a>(QWheelEvent *event)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#ab76398a5add881cfebef988b72bbb8e9">wheelEvent</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="comment">//Zoom and scrolling</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    QPoint angle = <span class="keyword">event</span>-&gt;angleDelta();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a6b047b2c7b957b925df37f8b52b25e62">gestures</a>()) <span class="comment">//When gesture mode is enable, we suppose the wheel event are made from a trackpad.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>-&gt;modifiers() == Qt::ControlModifier) <span class="comment">//zoom</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            qreal value = angle.y();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(1 + value/1000);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//scroll</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            horizontalScrollBar()-&gt;setValue(horizontalScrollBar()-&gt;value() - angle.x());</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            verticalScrollBar()-&gt;setValue(verticalScrollBar()-&gt;value() - angle.y());</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>-&gt;modifiers() == Qt::NoModifier) <span class="comment">//Else we suppose the wheel event are made from a mouse.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        qreal value = angle.y();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(1 + value/1000);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        QGraphicsView::wheelEvent(<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a40b76343432d9a9bd24bf80dd62612eb">  616</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a40b76343432d9a9bd24bf80dd62612eb">DiagramView::gestureEvent</a>(QGestureEvent *event)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (QGesture *gesture = <a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>-&gt;gesture(Qt::PinchGesture))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        QPinchGesture *pinch = <span class="keyword">static_cast&lt;</span>QPinchGesture *<span class="keyword">&gt;</span>(gesture);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span> (pinch-&gt;changeFlags() &amp; QPinchGesture::ScaleFactorChanged)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            qreal value = gesture-&gt;property(<span class="stringliteral">&quot;scaleFactor&quot;</span>).toReal();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            value &gt; 1 ? <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(1.02) : <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(0.98);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aa84d7acd647e09cf6c8a4fab2cd33336">  637</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aa84d7acd647e09cf6c8a4fab2cd33336">DiagramView::focusInEvent</a>(QFocusEvent *e) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (e -&gt; reason() == Qt::MouseFocusReason) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a530838f0dbecfbfa250d0bf4da6a201f">m_fresh_focus_in</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#adb4ffb10a7a7ecdb3a5979a96ed55f91">  649</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#adb4ffb10a7a7ecdb3a5979a96ed55f91">DiagramView::keyPressEvent</a>(QKeyEvent *e)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#a52151326ed7c98017e0c82358e62c890">keyPressEvent</a>(e))</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="../../db/dfc/classProjectView.html">ProjectView</a> *current_project = this-&gt;<a class="code" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">diagramEditor</a>()-&gt;<a class="code" href="../../dd/d28/classQETDiagramEditor.html#abbfa920179fe7d449248664d5d2f6318">currentProjectView</a>();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="../../d1/d19/classDiagramContent.html">DiagramContent</a> dc(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">switch</span>(e -&gt; key())</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">case</span> Qt::Key_PageUp:</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            current_project-&gt;<a class="code" href="../../db/dfc/classProjectView.html#a759f83e7a449059d487490f16d6a61f3">changeTabUp</a>();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">case</span> Qt::Key_PageDown:</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            current_project-&gt;<a class="code" href="../../db/dfc/classProjectView.html#a67205e769c7de60a74f4ea27a096b905">changeTabDown</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Home:</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">if</span> (dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a07b00c1d896f49e0a79774b299820e62">selectedTexts</a>().isEmpty()) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    qgraphicsitem_cast&lt;IndependentTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem()) ||</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    qgraphicsitem_cast&lt;ConductorTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem()) ||</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    qgraphicsitem_cast&lt;DiagramTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem())</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    )</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                current_project-&gt;<a class="code" href="../../db/dfc/classProjectView.html#a478f920621b7d1833cc1833820d1e2aa">changeFirstTab</a>();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">case</span> Qt::Key_End:</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">if</span> (dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a07b00c1d896f49e0a79774b299820e62">selectedTexts</a>().isEmpty()) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    qgraphicsitem_cast&lt;IndependentTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem()) ||</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    qgraphicsitem_cast&lt;ConductorTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem()) ||</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    qgraphicsitem_cast&lt;DiagramTextItem *&gt;(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;focusItem())</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    )</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                current_project-&gt;<a class="code" href="../../db/dfc/classProjectView.html#ad29362a0a027124450b0d29b978d7863">changeLastTab</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">case</span> Qt::Key_ZoomOut:</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(0.85);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">case</span> Qt::Key_ZoomIn:</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(1.15);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Minus: {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">if</span> (e-&gt;modifiers() &amp; Qt::ControlModifier)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(0.85);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Plus: {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">if</span> (e-&gt;modifiers() &amp; Qt::ControlModifier)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">zoom</a>(1.15);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Up: {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">if</span>(!dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">items</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a>).isEmpty() &amp;&amp; !dc.<a class="code" href="../../d1/d19/classDiagramContent.html#ae000b0538fe81229d8d527da7e1317a6">hasTextEditing</a>())</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">scrollOnMovement</a>(e);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Down: {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span>(!dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">items</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a>).isEmpty() &amp;&amp; !dc.<a class="code" href="../../d1/d19/classDiagramContent.html#ae000b0538fe81229d8d527da7e1317a6">hasTextEditing</a>())</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">scrollOnMovement</a>(e);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Left: {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">if</span>(!dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">items</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a>).isEmpty() &amp;&amp; !dc.<a class="code" href="../../d1/d19/classDiagramContent.html#ae000b0538fe81229d8d527da7e1317a6">hasTextEditing</a>())</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">scrollOnMovement</a>(e);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">case</span> Qt::Key_Right: {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">if</span>(!dc.<a class="code" href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">items</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a>).isEmpty() &amp;&amp; !dc.<a class="code" href="../../d1/d19/classDiagramContent.html#ae000b0538fe81229d8d527da7e1317a6">hasTextEditing</a>())</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <a class="code" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">scrollOnMovement</a>(e);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a5f51ca4b6fe5a10ee02ebcdd45fc0c1c">switchToVisualisationModeIfNeeded</a>(e);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    QGraphicsView::keyPressEvent(e);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ab8e67af0ea3bbb961474ffe5681cfdfc">  734</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ab8e67af0ea3bbb961474ffe5681cfdfc">DiagramView::keyReleaseEvent</a>(QKeyEvent *e) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>-&gt;<a class="code" href="../../d9/db4/classDVEventInterface.html#a0d92d09f82141d76f8df5640911f7aa1">KeyReleaseEvent</a>(e)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a779fa61e7d18ab01e3075921b3e7a4e0">switchToSelectionModeIfNeeded</a>(e);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    QGraphicsView::keyReleaseEvent(e);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">  746</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">DiagramView::scrollOnMovement</a>(QKeyEvent *e)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keyword">const</span> QList&lt;QGraphicsItem *&gt; selected_elmts = <a class="code" href="../../d1/d19/classDiagramContent.html">DiagramContent</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>).<a class="code" href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">items</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            QRectF viewed_scene = <a class="code" href="../../d8/dfc/classDiagramView.html#aa96c2929ff8f9f9fb2281a263e730a18">viewedSceneRect</a>();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">for</span> (QGraphicsItem *qgi : selected_elmts)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <span class="keywordflow">if</span> (qgraphicsitem_cast&lt;Conductor *&gt;(qgi))</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="keywordflow">if</span>(qgi-&gt;parentItem() &amp;&amp; qgi-&gt;parentItem()-&gt;isSelected())</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                qreal x = qgi-&gt;pos().x();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                qreal y = qgi-&gt;pos().y();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                qreal bottom = viewed_scene.bottom();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                qreal top = viewed_scene.top();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                qreal left = viewed_scene.left();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                qreal right = viewed_scene.right();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                qreal elmt_top = y + qgi-&gt;boundingRect().top();</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                qreal elmt_bottom = y + qgi-&gt;boundingRect().bottom();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                qreal elmt_right = x + qgi-&gt;boundingRect().right();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                qreal elmt_left = x + qgi-&gt;boundingRect().left();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordtype">bool</span> elmt_right_of_left_margin = elmt_left&gt;=left;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="keywordtype">bool</span> elmt_left_of_right_margin = elmt_right&lt;=right;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                <span class="keywordtype">bool</span> elmt_below_top_margin     = elmt_top&gt;=top;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <span class="keywordtype">bool</span> elmt_above_bottom_margin  = elmt_bottom&lt;=bottom;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="keywordflow">if</span> (!(elmt_right_of_left_margin &amp;&amp; elmt_left_of_right_margin) ||</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    !(elmt_below_top_margin    &amp;&amp; elmt_above_bottom_margin )  )</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        QScrollBar *h = horizontalScrollBar();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                        QScrollBar *v = verticalScrollBar();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                        <span class="keywordtype">int</span> h_increment=0;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        <span class="keywordtype">int</span> v_increment=0;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                        <span class="keywordflow">if</span> (e-&gt;key()==Qt::Key_Up &amp;&amp; elmt_above_bottom_margin) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                            v_increment = 2*qgi-&gt;boundingRect().top();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                            <span class="keywordflow">if</span> (v_increment == 0) v_increment = -2*qgi-&gt;boundingRect().height();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(e-&gt;key()==Qt::Key_Down &amp;&amp; elmt_below_top_margin) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                            v_increment = 2*qgi-&gt;boundingRect().bottom();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                            <span class="keywordflow">if</span> (v_increment == 0) v_increment = -2*qgi-&gt;boundingRect().height();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                        }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;key()==Qt::Key_Left &amp;&amp; elmt_left_of_right_margin) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                            h_increment = 2*qgi-&gt;boundingRect().left();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                            <span class="keywordflow">if</span> (h_increment == 0) h_increment = -2*qgi-&gt;boundingRect().width();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;key()==Qt::Key_Right &amp;&amp; elmt_right_of_left_margin) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                            h_increment = 2*qgi-&gt;boundingRect().right();</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                            <span class="keywordflow">if</span> (h_increment == 0) h_increment = -2*qgi-&gt;boundingRect().width();</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        <span class="keywordflow">if</span> (((elmt_right  &gt;= <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;sceneRect().right() -  qgi-&gt;boundingRect().right())  ||</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                            (elmt_bottom &gt;= <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;sceneRect().bottom() - qgi-&gt;boundingRect().bottom())) &amp;&amp;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                            (e-&gt;key()==Qt::Key_Right || e-&gt;key()==Qt::Key_Down)){</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                            <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a5ce477a5197fdfc394d662f8f71dc977">adjustSceneRect</a>();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        h -&gt; setValue(h -&gt; value() + h_increment);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        v -&gt; setValue(v -&gt; value() + v_increment);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a9bb8add587e35dd97bb5c342afc3b585">  814</a></span>&#160;QString <a class="code" href="../../d8/dfc/classDiagramView.html#a9bb8add587e35dd97bb5c342afc3b585">DiagramView::title</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    QString view_title;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    QString diagram_title(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; <a class="code" href="../../d8/dfc/classDiagramView.html#a9bb8add587e35dd97bb5c342afc3b585">title</a>());</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (diagram_title.isEmpty()) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        view_title = <a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Sans titre&quot;</span>, <span class="stringliteral">&quot;what to display for untitled diagrams&quot;</span>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        view_title = diagram_title;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">return</span>(view_title);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a52f7a1900c0141703effd269aed78e22">  829</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a52f7a1900c0141703effd269aed78e22">DiagramView::editDiagramProperties</a>() {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="../../d1/dea/classDiagramPropertiesDialog.html#ad34456eda4527e714b1bcac65e51ec26">DiagramPropertiesDialog::diagramPropertiesDialog</a>(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>, <a class="code" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">diagramEditor</a>());</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">  837</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">DiagramView::adjustSceneRect</a>()</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;{</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    QRectF scene_rect = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;sceneRect();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    scene_rect.adjust(-<a class="code" href="../../da/d91/classDiagram.html#afa19e2804536a0c6c0a7d81a17939704">Diagram::margin</a>, -<a class="code" href="../../da/d91/classDiagram.html#afa19e2804536a0c6c0a7d81a17939704">Diagram::margin</a>, <a class="code" href="../../da/d91/classDiagram.html#afa19e2804536a0c6c0a7d81a17939704">Diagram::margin</a>, <a class="code" href="../../da/d91/classDiagram.html#afa19e2804536a0c6c0a7d81a17939704">Diagram::margin</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    QSettings settings;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (settings.value(<span class="stringliteral">&quot;diagrameditor/zoom-out-beyond-of-folio&quot;</span>, <span class="keyword">false</span>).toBool())</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <span class="comment">//When zoom out beyong of folio is active,</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="comment">//we always adjust the scene rect to be 1/3 bigger than the wiewport</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        QRectF vpbr = mapToScene(viewport()-&gt;rect()).boundingRect();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        vpbr.adjust(0, 0, vpbr.width()/3, vpbr.height()/3);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        scene_rect = scene_rect.united(vpbr);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    setSceneRect(scene_rect);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a925510992ae056b77312bca105cf61c3">  857</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a925510992ae056b77312bca105cf61c3">DiagramView::updateWindowTitle</a>() {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    emit(<a class="code" href="../../d8/dfc/classDiagramView.html#a76525bb80f3bbd565964a35e5246bfdb">titleChanged</a>(<span class="keyword">this</span>, <a class="code" href="../../d8/dfc/classDiagramView.html#a9bb8add587e35dd97bb5c342afc3b585">title</a>()));</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">  864</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">DiagramView::adjustGridToZoom</a>() {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    QRectF viewed_scene = <a class="code" href="../../d8/dfc/classDiagramView.html#aa96c2929ff8f9f9fb2281a263e730a18">viewedSceneRect</a>();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">diagramEditor</a>()-&gt;drawGrid())</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a016f54253c225274892e27f6a0740f26">setDisplayGrid</a>(viewed_scene.width() &lt; 2000 || viewed_scene.height() &lt; 2000);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;<a class="code" href="../../da/d91/classDiagram.html#a016f54253c225274892e27f6a0740f26">setDisplayGrid</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aa96c2929ff8f9f9fb2281a263e730a18">  875</a></span>&#160;QRectF <a class="code" href="../../d8/dfc/classDiagramView.html#aa96c2929ff8f9f9fb2281a263e730a18">DiagramView::viewedSceneRect</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// recupere la taille du widget viewport</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    QSize viewport_size = viewport() -&gt; size();</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// recupere la transformation viewport -&gt; scene</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    QTransform view_to_scene   = viewportTransform().inverted();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// mappe le coin superieur gauche et le coin inferieur droit de la viewport sur la scene</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    QPointF scene_left_top     = view_to_scene.map(QPointF(0.0, 0.0));</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    QPointF scene_right_bottom = view_to_scene.map(QPointF(viewport_size.width(), viewport_size.height()));</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// en deduit le rectangle visualise par la scene</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span>(QRectF(scene_left_top, scene_right_bottom));</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a22f242c4ea8317aacd5dbaa70965d6bd">  896</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a22f242c4ea8317aacd5dbaa70965d6bd">DiagramView::mustIntegrateTitleBlockTemplate</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html">TitleBlockTemplateLocation</a> &amp;tbt_loc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// unlike elements, the integration of title block templates is mandatory, so we simply check whether the parent project of the template is also the parent project of the diagram</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="../../d1/d80/classQETProject.html">QETProject</a> *tbt_parent_project = tbt_loc.<a class="code" href="../../d2/d69/classTitleBlockTemplateLocation.html#a131c9cdffe2c74126efb079a82c8d53b">parentProject</a>();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (!tbt_parent_project) <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span>(tbt_parent_project != <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; project());</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#adbecedf31ac1a433ff90957c279a7fae">  908</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#adbecedf31ac1a433ff90957c279a7fae">DiagramView::applyReadOnly</a>() {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">bool</span> is_writable = !<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    setInteractive(is_writable);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    setAcceptDrops(is_writable);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a77dfd05b914003b680de3568deefacca">  920</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a77dfd05b914003b680de3568deefacca">DiagramView::editSelectedConductorColor</a>()</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="comment">//retrieve selected content</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="../../d1/d19/classDiagramContent.html">DiagramContent</a> selection(<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment">// we&#39;ll focus on the selected conductor (we do not handle multiple conductors edition)</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    QList&lt;Conductor *&gt; selected_conductors = selection.<a class="code" href="../../d1/d19/classDiagramContent.html#a469693789e1268cbfae9486b240da1a3">conductors</a>(<a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697a50f987329bd6957b58b6084cba87c05f">DiagramContent::AnyConductor</a> | <a class="code" href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697a6992d2d4f6cbb53103beeb07582c2e01">DiagramContent::SelectedOnly</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">if</span> (selected_conductors.count() == 1) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#aafeddabb282d3214acac59e34662a4f8">editConductorColor</a>(selected_conductors.at(0));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aafeddabb282d3214acac59e34662a4f8">  936</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aafeddabb282d3214acac59e34662a4f8">DiagramView::editConductorColor</a>(<a class="code" href="../../d3/d84/classConductor.html">Conductor</a> *edited_conductor)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly() || !edited_conductor) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="comment">// store the initial properties of the provided conductor</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="../../d4/d0b/classConductorProperties.html">ConductorProperties</a> initial_properties = edited_conductor -&gt; properties();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="comment">// prepare a color dialog showing the initial conductor color</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    QColorDialog *color_dialog = <span class="keyword">new</span> QColorDialog(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    color_dialog -&gt; setWindowTitle(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Choisir la nouvelle couleur de ce conducteur&quot;</span>));</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="preprocessor">#ifdef Q_OS_MACOS</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    color_dialog -&gt; setWindowFlags(Qt::Sheet);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    color_dialog -&gt; setCurrentColor(initial_properties.<a class="code" href="../../d4/d0b/classConductorProperties.html#a66863b6082368ad72bc2f593774787d5">color</a>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="comment">// asks the user what color he wishes to apply</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> (color_dialog -&gt; exec() == QDialog::Accepted)</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        QColor new_color = color_dialog -&gt; selectedColor();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (new_color != initial_properties.<a class="code" href="../../d4/d0b/classConductorProperties.html#a66863b6082368ad72bc2f593774787d5">color</a>)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <span class="comment">// the user chose a different color</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            QVariant old_value, new_value;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            old_value.setValue(initial_properties);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            initial_properties.<a class="code" href="../../d4/d0b/classConductorProperties.html#a66863b6082368ad72bc2f593774787d5">color</a> = new_color;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            new_value.setValue(initial_properties);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <a class="code" href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a> *undo = <span class="keyword">new</span> <a class="code" href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a>(edited_conductor, <span class="stringliteral">&quot;properties&quot;</span>, old_value, new_value);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            undo-&gt;setText(<a class="code" href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">tr</a>(<span class="stringliteral">&quot;Modifier les propriétés d&#39;un conducteur&quot;</span>, <span class="stringliteral">&quot;undo caption&quot;</span>));</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">diagram</a>() -&gt; undoStack().push(undo);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a2d49c88ee5e5f9a204d8a1f745af031a">  973</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a2d49c88ee5e5f9a204d8a1f745af031a">DiagramView::resetConductors</a>() {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">// recupere les conducteurs selectionnes</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    QSet&lt;Conductor *&gt; selected_conductors = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; selectedConductors();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// repere les conducteurs modifies (= profil non nul)</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    QHash&lt;Conductor *, ConductorProfilesGroup&gt; conductors_and_profiles;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">foreach</span>(<a class="code" href="../../d3/d84/classConductor.html">Conductor</a> *conductor, selected_conductors) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="../../d7/d0f/conductor_8h.html#ae0511082eaa876e0d6b6d88367998be8">ConductorProfilesGroup</a> profile = conductor -&gt; profiles();</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            !profile[Qt::TopLeftCorner].isNull() ||\</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            !profile[Qt::TopRightCorner].isNull() ||\</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            !profile[Qt::BottomLeftCorner].isNull() ||\</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            !profile[Qt::BottomRightCorner].isNull()</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        ) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            conductors_and_profiles.insert(conductor, profile);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">if</span> (conductors_and_profiles.isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; undoStack().push(<span class="keyword">new</span> <a class="code" href="../../d3/dfa/classResetConductorCommand.html">ResetConductorCommand</a>(conductors_and_profiles));</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443"> 1006</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">DiagramView::event</a>(QEvent *e) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (Q_UNLIKELY(<a class="code" href="../../d8/dfc/classDiagramView.html#a586c79bc3e00a1fe0aaecf6df7de606b">m_first_activation</a>)) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">if</span> (e -&gt; type() == QEvent::Show) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a399414a83cf6a524e386d2f88bb53cc8">zoomFit</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a586c79bc3e00a1fe0aaecf6df7de606b">m_first_activation</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// By default touch events are converted to mouse events. So</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="comment">// after this event we will get a mouse event also but we want</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">// to handle touch events as gestures only. So we need this safeguard</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// to block mouse events that are actually generated from touch.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">if</span> (e-&gt;type() == QEvent::Gesture)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a40b76343432d9a9bd24bf80dd62612eb">gestureEvent</a>(<span class="keyword">static_cast&lt;</span>QGestureEvent *<span class="keyword">&gt;</span>(e));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="comment">// fait en sorte que les raccourcis clavier arrivent prioritairement sur la</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="comment">// vue plutot que de remonter vers les QMenu / QAction</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        e -&gt; type() == QEvent::ShortcutOverride &amp;&amp;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73">selectedItemHasFocus</a>()</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    ) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        e -&gt; accept();</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">return</span>(QGraphicsView::event(e));</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a7107d45e79560b56fd16052fa1f4808c"> 1037</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a7107d45e79560b56fd16052fa1f4808c">DiagramView::paintEvent</a>(QPaintEvent *event)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;{</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    QGraphicsView::paintEvent(<a class="code" href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">event</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">m_free_rubberbanding</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>.count() &gt;= 3)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        QPainter painter(viewport());</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        painter.setRenderHint(QPainter::Antialiasing);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        QPen pen(Qt::darkGreen);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        pen.setWidth(1);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        painter.setPen(pen);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        QColor color(Qt::darkGreen);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        color.setAlpha(50);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        QBrush brush(color);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        painter.setBrush(brush);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        painter.drawPolygon(mapFromScene(<a class="code" href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">m_free_rubberband</a>));</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a5f51ca4b6fe5a10ee02ebcdd45fc0c1c"> 1061</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a5f51ca4b6fe5a10ee02ebcdd45fc0c1c">DiagramView::switchToVisualisationModeIfNeeded</a>(QInputEvent *e) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#ae5d0c6be0a49baf8d25116c53e58c2bc">isCtrlShifting</a>(e) &amp;&amp; !<a class="code" href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73">selectedItemHasFocus</a>()) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">if</span> (dragMode() != QGraphicsView::ScrollHandDrag) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a8307296ac08dc844fc80e201351538f2">setVisualisationMode</a>();</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">return</span>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a779fa61e7d18ab01e3075921b3e7a4e0"> 1076</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a779fa61e7d18ab01e3075921b3e7a4e0">DiagramView::switchToSelectionModeIfNeeded</a>(QInputEvent *e) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73">selectedItemHasFocus</a>() &amp;&amp; !<a class="code" href="../../d8/dfc/classDiagramView.html#ae5d0c6be0a49baf8d25116c53e58c2bc">isCtrlShifting</a>(e)) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#aebfb945f49df29498a7be76fd43e014c">setSelectionMode</a>();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">return</span>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ae5d0c6be0a49baf8d25116c53e58c2bc"> 1087</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ae5d0c6be0a49baf8d25116c53e58c2bc">DiagramView::isCtrlShifting</a>(QInputEvent *e) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// note: QInputEvent::modifiers and QKeyEvent::modifiers() do not return the</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// same values, hence the casts</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (e -&gt; type() == QEvent::KeyPress || e -&gt; type() == QEvent::KeyRelease) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">if</span> (QKeyEvent *ke = <span class="keyword">static_cast&lt;</span>QKeyEvent *<span class="keyword">&gt;</span>(e)) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            result = (ke -&gt; modifiers() == (Qt::ControlModifier | Qt::ShiftModifier));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e -&gt; type() &gt;= QEvent::MouseButtonPress &amp;&amp; e -&gt; type() &lt;= QEvent::MouseMove) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">if</span> (QMouseEvent *me = <span class="keyword">static_cast&lt;</span>QMouseEvent *<span class="keyword">&gt;</span>(e)) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            result = (me -&gt; modifiers() == (Qt::ControlModifier | Qt::ShiftModifier));</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">return</span>(result);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;}</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73"> 1106</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73">DiagramView::selectedItemHasFocus</a>() {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">return</span>(</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; hasFocus() &amp;&amp;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; focusItem() &amp;&amp;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; focusItem() -&gt; isSelected()</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    );</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a0b68af39d79941702cf0be2dd9dc4039"> 1118</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a0b68af39d79941702cf0be2dd9dc4039">DiagramView::editSelection</a>() {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; isReadOnly() || <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; selectedItems().size() != 1 ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    QGraphicsItem *item = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;selectedItems().first();</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="comment">//We use dynamic_cast instead of qgraphicsitem_cast for QetGraphicsItem</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="comment">//because they haven&#39;t got they own type().</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="comment">//Use qgraphicsitem_cast will have weird behavior for this class.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/de9/classIndependentTextItem.html">IndependentTextItem</a> *iti = qgraphicsitem_cast&lt;IndependentTextItem *&gt;(item))</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        iti -&gt; edit();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d9e/classQetGraphicsItem.html">QetGraphicsItem</a> *qgi = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d1/d9e/classQetGraphicsItem.html">QetGraphicsItem</a> *<span class="keyword">&gt;</span> (item))</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        qgi -&gt; editProperty();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d3/d84/classConductor.html">Conductor</a> *c = qgraphicsitem_cast&lt;Conductor *&gt;(item))</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        c -&gt; editProperty();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#ae3f872a024f2a993d16fd8bac97eb476"> 1140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#ae3f872a024f2a993d16fd8bac97eb476">DiagramView::setEventInterface</a>(<a class="code" href="../../d9/db4/classDVEventInterface.html">DVEventInterface</a> *event_interface)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>) <span class="keyword">delete</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> = event_interface;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    connect(<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>, &amp;<a class="code" href="../../d9/db4/classDVEventInterface.html#a61ad1853266952cc2c95fc7d31d83e67">DVEventInterface::finish</a>, <span class="keyword">this</span>, [=](){<span class="keyword">delete</span> this-&gt;<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a>; this-&gt;<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> = <span class="keyword">nullptr</span>;}, Qt::QueuedConnection);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a607c91e35dfe86020fe8facd7aabc9ed"> 1152</a></span>&#160;QList&lt;QAction *&gt; <a class="code" href="../../d8/dfc/classDiagramView.html#a607c91e35dfe86020fe8facd7aabc9ed">DiagramView::contextMenuActions</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    QList&lt;QAction *&gt; list;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d28/classQETDiagramEditor.html">QETDiagramEditor</a> *qde = <a class="code" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">diagramEditor</a>())</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;selectedItems().<a class="code" href="../../da/d91/classDiagram.html#ad1ca657daa905b0d10529326148e4546">isEmpty</a>())</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#a571e60fbaea7d02048361cf8e4f86149">m_paste_here</a>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a>.at(0);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            list &lt;&lt; qde-&gt;m_edit_diagram_properties;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            list &lt;&lt; qde-&gt;m_row_column_actions_group.actions();</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            list &lt;&lt; qde-&gt;m_cut;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            list &lt;&lt; qde-&gt;m_copy;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#af0b15d4c18556cc95be95cd828405441">m_multi_paste</a>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a>.at(0);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            list &lt;&lt; qde-&gt;m_conductor_reset;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a>.at(1);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            list &lt;&lt; qde-&gt;m_selection_actions_group.actions();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            list &lt;&lt; <a class="code" href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">m_separators</a>.at(2);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            list &lt;&lt; qde-&gt;m_depth_action_group-&gt;actions();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="comment">//Remove from the context menu the actions which are disabled.</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keyword">const</span> QList&lt;QAction *&gt; actions = list;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">for</span>(QAction *action : actions)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="keywordflow">if</span> (!action-&gt;isEnabled()) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                list.removeAll(action);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">return</span> list;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a202f1e5f178aabbfaf7fd258474fc37f"> 1194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#a202f1e5f178aabbfaf7fd258474fc37f">DiagramView::contextMenuEvent</a>(QContextMenuEvent *e)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;{</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    QGraphicsView::contextMenuEvent(e);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span>(e-&gt;isAccepted())</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (QGraphicsItem *qgi = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;itemAt(mapToScene(e-&gt;pos()), transform()))</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">if</span> (!qgi -&gt; isSelected()) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;clearSelection();</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        qgi-&gt;setSelected(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a>-&gt;selectedItems().<a class="code" href="../../da/d91/classDiagram.html#ad1ca657daa905b0d10529326148e4546">isEmpty</a>())</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a75111e2faa3b4e7c1c1ce60c8908430c">m_paste_here_pos</a> = e-&gt;pos();</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a571e60fbaea7d02048361cf8e4f86149">m_paste_here</a>-&gt;setEnabled(<a class="code" href="../../da/d91/classDiagram.html#a07ed1b9e4a3926cca739a2d1923df9ef">Diagram::clipboardMayContainDiagram</a>());</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    QList &lt;QAction *&gt; list = <a class="code" href="../../d8/dfc/classDiagramView.html#a607c91e35dfe86020fe8facd7aabc9ed">contextMenuActions</a>();</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span>(!list.isEmpty())</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        QMenu *context_menu = <span class="keyword">new</span> QMenu(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        context_menu-&gt;addActions(list);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        context_menu-&gt;popup(e-&gt;globalPos());</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        e-&gt;accept();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144"> 1228</a></span>&#160;<a class="code" href="../../dd/d28/classQETDiagramEditor.html">QETDiagramEditor</a> *<a class="code" href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">DiagramView::diagramEditor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// remonte la hierarchie des widgets</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    QWidget *w = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d8/dfc/classDiagramView.html">DiagramView</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">while</span> (w -&gt; parentWidget() &amp;&amp; !w -&gt; isWindow()) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        w = w -&gt; parentWidget();</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="comment">// la fenetre est supposee etre un QETDiagramEditor</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">return</span>(qobject_cast&lt;QETDiagramEditor *&gt;(w));</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="../../d8/dfc/classDiagramView.html#aa61282357b001c4066006f852e55fb1b"> 1242</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dfc/classDiagramView.html#aa61282357b001c4066006f852e55fb1b">DiagramView::mouseDoubleClickEvent</a>(QMouseEvent *e)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;{</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> &amp;&amp; <a class="code" href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">m_event_interface</a> -&gt; <a class="code" href="../../d8/dfc/classDiagramView.html#aa61282357b001c4066006f852e55fb1b">mouseDoubleClickEvent</a>(e)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="../../db/d24/classBorderTitleBlock.html">BorderTitleBlock</a> &amp;bi = <a class="code" href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">m_diagram</a> -&gt; border_and_titleblock;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">//Get the click pos on the diagram</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    QPointF click_pos = viewportTransform().inverted().map(e -&gt; pos());</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (bi.<a class="code" href="../../db/d24/classBorderTitleBlock.html#adf35a4b1315de6d6efed2095a1f5ab60">titleBlockRect</a>().contains(click_pos) || bi.<a class="code" href="../../db/d24/classBorderTitleBlock.html#ae2cceee63398666fe35cfbd9b6f4fcb3">columnsRect</a>().contains(click_pos) || bi.<a class="code" href="../../db/d24/classBorderTitleBlock.html#ad02abd6c3e34df96d9d4b0c0fa108d24">rowsRect</a>().contains(click_pos)) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        e-&gt;accept();</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="../../d8/dfc/classDiagramView.html#a52f7a1900c0141703effd269aed78e22">editDiagramProperties</a>();</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    QGraphicsView::mouseDoubleClickEvent(e);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassDiagram_html_a8c5e5c0996f65e27743d9b9084c3f582"><div class="ttname"><a href="../../da/d91/classDiagram.html#a8c5e5c0996f65e27743d9b9084c3f582">Diagram::loadCndFolioSeq</a></div><div class="ttdeci">void loadCndFolioSeq()</div><div class="ttdoc">Diagram::loadCndFolioSeq This class loads all conductor folio sequential variables related to the cur...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l01942">diagram.cpp:1942</a></div></div>
<div class="ttc" id="aclassTitleBlockTemplateLocation_html_ab3e7bc602187c30fd6f95393334c9825"><div class="ttname"><a href="../../d2/d69/classTitleBlockTemplateLocation.html#ab3e7bc602187c30fd6f95393334c9825">TitleBlockTemplateLocation::name</a></div><div class="ttdeci">QString name() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5b/templatelocation_8cpp_source.html#l00073">templatelocation.cpp:73</a></div></div>
<div class="ttc" id="aclassQETDiagramEditor_html"><div class="ttname"><a href="../../dd/d28/classQETDiagramEditor.html">QETDiagramEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db5/qetdiagrameditor_8h_source.html#l00050">qetdiagrameditor.h:51</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a9bb8add587e35dd97bb5c342afc3b585"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a9bb8add587e35dd97bb5c342afc3b585">DiagramView::title</a></div><div class="ttdeci">QString title() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00814">diagramview.cpp:814</a></div></div>
<div class="ttc" id="aclassConductorProperties_html"><div class="ttname"><a href="../../d4/d0b/classConductorProperties.html">ConductorProperties</a></div><div class="ttdoc">The ConductorProperties class This class represents the functional properties of a particular conduct...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d97/conductorproperties_8h_source.html#l00067">conductorproperties.h:68</a></div></div>
<div class="ttc" id="aclassDiagramView_html_afcd4ea23c8b2eabd32b1682b136248bc"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#afcd4ea23c8b2eabd32b1682b136248bc">DiagramView::zoom</a></div><div class="ttdeci">void zoom(const qreal zoom_factor)</div><div class="ttdoc">DiagramView::zoom Zomm the view. A zoom_factor &gt; 1 zoom in. A zoom_factor &lt; 1 zoom out.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00294">diagramview.cpp:294</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a07b00c1d896f49e0a79774b299820e62"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a07b00c1d896f49e0a79774b299820e62">DiagramContent::selectedTexts</a></div><div class="ttdeci">QList&lt; DiagramTextItem * &gt; selectedTexts() const</div><div class="ttdoc">DiagramContent::selectedTexts.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/diagramcontent_8cpp_source.html#l00130">diagramcontent.cpp:130</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_ab76398a5add881cfebef988b72bbb8e9"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#ab76398a5add881cfebef988b72bbb8e9">DVEventInterface::wheelEvent</a></div><div class="ttdeci">virtual bool wheelEvent(QWheelEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00054">dveventinterface.cpp:54</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a667fdabfcb325526aff83c6422f57144"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a667fdabfcb325526aff83c6422f57144">DiagramView::diagramEditor</a></div><div class="ttdeci">QETDiagramEditor * diagramEditor() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01228">diagramview.cpp:1228</a></div></div>
<div class="ttc" id="aclassIntegrationMoveTitleBlockTemplatesHandler_html"><div class="ttname"><a href="../../d0/df5/classIntegrationMoveTitleBlockTemplatesHandler.html">IntegrationMoveTitleBlockTemplatesHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db7/integrationmovetemplateshandler_8h_source.html#l00027">integrationmovetemplateshandler.h:27</a></div></div>
<div class="ttc" id="aclassDiagramContent_html"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html">DiagramContent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d67/diagramcontent_8h_source.html#l00045">diagramcontent.h:46</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a1e8975e5bae1c85ee7ba9f0c8571f6f7"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a1e8975e5bae1c85ee7ba9f0c8571f6f7">DiagramView::dragEnterEvent</a></div><div class="ttdeci">void dragEnterEvent(QDragEnterEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00144">diagramview.cpp:144</a></div></div>
<div class="ttc" id="aclassTitleBlockTemplateLocation_html"><div class="ttname"><a href="../../d2/d69/classTitleBlockTemplateLocation.html">TitleBlockTemplateLocation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d89/templatelocation_8h_source.html#l00029">templatelocation.h:29</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a5f51ca4b6fe5a10ee02ebcdd45fc0c1c"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a5f51ca4b6fe5a10ee02ebcdd45fc0c1c">DiagramView::switchToVisualisationModeIfNeeded</a></div><div class="ttdeci">virtual bool switchToVisualisationModeIfNeeded(QInputEvent *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01061">diagramview.cpp:1061</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a571e60fbaea7d02048361cf8e4f86149"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a571e60fbaea7d02048361cf8e4f86149">DiagramView::m_paste_here</a></div><div class="ttdeci">QAction * m_paste_here</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00053">diagramview.h:53</a></div></div>
<div class="ttc" id="adiagramcommands_8h_html"><div class="ttname"><a href="../../d5/d8a/diagramcommands_8h.html">diagramcommands.h</a></div></div>
<div class="ttc" id="aclassPasteDiagramCommand_html"><div class="ttname"><a href="../../d5/dcf/classPasteDiagramCommand.html">PasteDiagramCommand</a></div><div class="ttdoc">The PasteDiagramCommand class This command pastes some content onto a particular diagram.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8a/diagramcommands_8h_source.html#l00088">diagramcommands.h:88</a></div></div>
<div class="ttc" id="aclassProjectView_html_a67205e769c7de60a74f4ea27a096b905"><div class="ttname"><a href="../../db/dfc/classProjectView.html#a67205e769c7de60a74f4ea27a096b905">ProjectView::changeTabDown</a></div><div class="ttdeci">void changeTabDown()</div><div class="ttdoc">change current diagramview to next folio</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db1/projectview_8cpp_source.html#l00129">projectview.cpp:129</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a399414a83cf6a524e386d2f88bb53cc8"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a399414a83cf6a524e386d2f88bb53cc8">DiagramView::zoomFit</a></div><div class="ttdeci">void zoomFit()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00318">diagramview.cpp:318</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a3ad15e5856a56d4a469236c9a24611fa"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a3ad15e5856a56d4a469236c9a24611fa">DiagramView::m_free_rubberband</a></div><div class="ttdeci">QPolygonF m_free_rubberband</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00060">diagramview.h:60</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_af2cb0e1e8f3b1ac57abdb53b7a644a42"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#af2cb0e1e8f3b1ac57abdb53b7a644a42">DVEventInterface::mouseReleaseEvent</a></div><div class="ttdeci">virtual bool mouseReleaseEvent(QMouseEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00049">dveventinterface.cpp:49</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a7141346612e06306ebd736e3bc4e2cd2"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a7141346612e06306ebd736e3bc4e2cd2">DiagramView::modeChanged</a></div><div class="ttdeci">void modeChanged()</div><div class="ttdoc">Signal emitted after the selection mode changed.</div></div>
<div class="ttc" id="aclassQETProject_html_a0c09108ed136c346d1c771f82cc5d5b8"><div class="ttname"><a href="../../d1/d80/classQETProject.html#a0c09108ed136c346d1c771f82cc5d5b8">QETProject::integrateTitleBlockTemplate</a></div><div class="ttdeci">QString integrateTitleBlockTemplate(const TitleBlockTemplateLocation &amp;, MoveTitleBlockTemplatesHandler *handler)</div><div class="ttdoc">QETProject::integrateTitleBlockTemplate Integrate a title block template into this project.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d10/qetproject_8cpp_source.html#l01065">qetproject.cpp:1065</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_a52151326ed7c98017e0c82358e62c890"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#a52151326ed7c98017e0c82358e62c890">DVEventInterface::keyPressEvent</a></div><div class="ttdeci">virtual bool keyPressEvent(QKeyEvent *event)</div><div class="ttdoc">DVEventInterface::keyPressEvent By default, press escape key abort the curent action....</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00066">dveventinterface.cpp:66</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_ae000b0538fe81229d8d527da7e1317a6"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#ae000b0538fe81229d8d527da7e1317a6">DiagramContent::hasTextEditing</a></div><div class="ttdeci">bool hasTextEditing()</div><div class="ttdoc">DiagramContent::hasTextEditing.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/diagramcontent_8cpp_source.html#l00358">diagramcontent.cpp:358</a></div></div>
<div class="ttc" id="aclassElementsLocation_html"><div class="ttname"><a href="../../d6/d3b/classElementsLocation.html">ElementsLocation</a></div><div class="ttdoc">The ElementsLocation class This class represents the location, the location of an element or of a cat...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d30/elementslocation_8h_source.html#l00045">elementslocation.h:46</a></div></div>
<div class="ttc" id="aclassElementsLocation_html_a45f9e8dbe179a42f73a8ea0625bddc7e"><div class="ttname"><a href="../../d6/d3b/classElementsLocation.html#a45f9e8dbe179a42f73a8ea0625bddc7e">ElementsLocation::isElement</a></div><div class="ttdeci">bool isElement() const</div><div class="ttdoc">ElementsLocation::isElement.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfb/elementslocation_8cpp_source.html#l00412">elementslocation.cpp:412</a></div></div>
<div class="ttc" id="aclassProjectView_html_a478f920621b7d1833cc1833820d1e2aa"><div class="ttname"><a href="../../db/dfc/classProjectView.html#a478f920621b7d1833cc1833820d1e2aa">ProjectView::changeFirstTab</a></div><div class="ttdeci">void changeFirstTab()</div><div class="ttdoc">change current diagramview to first tab</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db1/projectview_8cpp_source.html#l00190">projectview.cpp:190</a></div></div>
<div class="ttc" id="aconductor_8h_html"><div class="ttname"><a href="../../d7/d0f/conductor_8h.html">conductor.h</a></div></div>
<div class="ttc" id="aclassProjectView_html_a759f83e7a449059d487490f16d6a61f3"><div class="ttname"><a href="../../db/dfc/classProjectView.html#a759f83e7a449059d487490f16d6a61f3">ProjectView::changeTabUp</a></div><div class="ttdeci">void changeTabUp()</div><div class="ttdoc">change current diagramview to previous tab</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db1/projectview_8cpp_source.html#l00152">projectview.cpp:152</a></div></div>
<div class="ttc" id="aclassDiagram_html_a4421fe323f2ce7eb493489b4e1241184"><div class="ttname"><a href="../../da/d91/classDiagram.html#a4421fe323f2ce7eb493489b4e1241184">Diagram::fromXml</a></div><div class="ttdeci">bool fromXml(QDomDocument &amp;, QPointF=QPointF(), bool=true, DiagramContent *=nullptr)</div><div class="ttdoc">Diagram::fromXml Imports the described schema into an XML document. If a position is specified,...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l01029">diagram.cpp:1029</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ab1fcc9eeb37a899a5f95856d85717f66"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ab1fcc9eeb37a899a5f95856d85717f66">DiagramView::handleTextDrop</a></div><div class="ttdeci">void handleTextDrop(QDropEvent *)</div><div class="ttdoc">DiagramView::handleTextDrop handle the drop of text.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00255">diagramview.cpp:255</a></div></div>
<div class="ttc" id="aclassQPropertyUndoCommand_html"><div class="ttname"><a href="../../df/d51/classQPropertyUndoCommand.html">QPropertyUndoCommand</a></div><div class="ttdoc">The QPropertyUndoCommand class This undo command manage QProperty of a QObject. This undo command can...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d34/qpropertyundocommand_8h_source.html#l00033">qpropertyundocommand.h:34</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aa84d7acd647e09cf6c8a4fab2cd33336"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aa84d7acd647e09cf6c8a4fab2cd33336">DiagramView::focusInEvent</a></div><div class="ttdeci">void focusInEvent(QFocusEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00637">diagramview.cpp:637</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aa7ddeae989deaf45dc87f9b4614152c0"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aa7ddeae989deaf45dc87f9b4614152c0">DiagramView::DiagramView</a></div><div class="ttdeci">DiagramView(Diagram *diagram, QWidget *=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00054">diagramview.cpp:54</a></div></div>
<div class="ttc" id="aclassDiagramView_html_adbecedf31ac1a433ff90957c279a7fae"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#adbecedf31ac1a433ff90957c279a7fae">DiagramView::applyReadOnly</a></div><div class="ttdeci">void applyReadOnly()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00908">diagramview.cpp:908</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a8c062e9be49d4f8f5c43322fceed60ca"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a8c062e9be49d4f8f5c43322fceed60ca">DiagramView::diagram</a></div><div class="ttdeci">Diagram * diagram()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00067">diagramview.h:67</a></div></div>
<div class="ttc" id="adiagramposition_8h_html"><div class="ttname"><a href="../../d5/d1a/diagramposition_8h.html">diagramposition.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a5af62c27ecdd11e28a6b8a2da6ddfc60"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a5af62c27ecdd11e28a6b8a2da6ddfc60">DiagramView::copy</a></div><div class="ttdeci">void copy()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00353">diagramview.cpp:353</a></div></div>
<div class="ttc" id="aclassTitleBlockTemplateLocation_html_a7620093cfb6bb20c44683eddb82ba210"><div class="ttname"><a href="../../d2/d69/classTitleBlockTemplateLocation.html#a7620093cfb6bb20c44683eddb82ba210">TitleBlockTemplateLocation::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5b/templatelocation_8cpp_source.html#l00087">templatelocation.cpp:87</a></div></div>
<div class="ttc" id="aconductortextitem_8h_html"><div class="ttname"><a href="../../de/dcc/conductortextitem_8h.html">conductortextitem.h</a></div></div>
<div class="ttc" id="aprojectview_8h_html"><div class="ttname"><a href="../../d7/d89/projectview_8h.html">projectview.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a7107d45e79560b56fd16052fa1f4808c"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a7107d45e79560b56fd16052fa1f4808c">DiagramView::paintEvent</a></div><div class="ttdeci">void paintEvent(QPaintEvent *event) override</div><div class="ttdoc">DiagramView::paintEvent Reimplemented from QGraphicsView.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01037">diagramview.cpp:1037</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a2f15f617047f891ecf17e6c9f9c7ae46"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a2f15f617047f891ecf17e6c9f9c7ae46">DiagramView::zoomReset</a></div><div class="ttdeci">void zoomReset()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00335">diagramview.cpp:335</a></div></div>
<div class="ttc" id="amultipastedialog_8h_html"><div class="ttname"><a href="../../d0/d56/multipastedialog_8h.html">multipastedialog.h</a></div></div>
<div class="ttc" id="adiagrampropertiesdialog_8h_html"><div class="ttname"><a href="../../de/d4f/diagrampropertiesdialog_8h.html">diagrampropertiesdialog.h</a></div></div>
<div class="ttc" id="aclassCutDiagramCommand_html"><div class="ttname"><a href="../../dc/dbd/classCutDiagramCommand.html">CutDiagramCommand</a></div><div class="ttdoc">The CutDiagramCommand class This command cuts content from a particular diagram.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8a/diagramcommands_8h_source.html#l00118">diagramcommands.h:118</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a9d6616c3a0e7175f1390197671f5a33a"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a9d6616c3a0e7175f1390197671f5a33a">DiagramView::adjustSceneRect</a></div><div class="ttdeci">void adjustSceneRect()</div><div class="ttdoc">DiagramView::adjustSceneRect Calcul and set the area of the scene visualized by this view.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00837">diagramview.cpp:837</a></div></div>
<div class="ttc" id="aqetmessagebox_8h_html"><div class="ttname"><a href="../../d4/d5e/qetmessagebox_8h.html">qetmessagebox.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a202f1e5f178aabbfaf7fd258474fc37f"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a202f1e5f178aabbfaf7fd258474fc37f">DiagramView::contextMenuEvent</a></div><div class="ttdeci">void contextMenuEvent(QContextMenuEvent *) override</div><div class="ttdoc">DiagramView::contextMenuEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01194">diagramview.cpp:1194</a></div></div>
<div class="ttc" id="aclassDiagram_html_a07ed1b9e4a3926cca739a2d1923df9ef"><div class="ttname"><a href="../../da/d91/classDiagram.html#a07ed1b9e4a3926cca739a2d1923df9ef">Diagram::clipboardMayContainDiagram</a></div><div class="ttdeci">static bool clipboardMayContainDiagram()</div><div class="ttdoc">Diagram::clipboardMayContainDiagram.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l02312">diagram.cpp:2312</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_af834c6e3bdd9708fecb33edf23c5aca6"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#af834c6e3bdd9708fecb33edf23c5aca6">QET::Icons::tr</a></div><div class="ttdeci">QIcon tr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00206">qeticons.cpp:206</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aee1c7f4c80039734bd3c257605c094a8"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aee1c7f4c80039734bd3c257605c094a8">DiagramView::findElementRequired</a></div><div class="ttdeci">void findElementRequired(const ElementsLocation &amp;)</div><div class="ttdoc">Signal emitted when users wish to locate an element from the diagram within elements collection.</div></div>
<div class="ttc" id="aclassProjectView_html"><div class="ttname"><a href="../../db/dfc/classProjectView.html">ProjectView</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d89/projectview_8h_source.html#l00077">projectview.h:78</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html">DVEventInterface</a></div><div class="ttdoc">The DVEventInterface class This class is the main interface for manage event of a Diagram View....</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d33/dveventinterface_8h_source.html#l00042">dveventinterface.h:43</a></div></div>
<div class="ttc" id="aclassResetConductorCommand_html"><div class="ttname"><a href="../../d3/dfa/classResetConductorCommand.html">ResetConductorCommand</a></div><div class="ttdoc">The ResetConductorCommand class This command resets conductor paths.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8a/diagramcommands_8h_source.html#l00278">diagramcommands.h:278</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_ae90c54e45be9e8bf24ecc1175dba9e50"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#ae90c54e45be9e8bf24ecc1175dba9e50">QET::Icons::EditPaste</a></div><div class="ttdeci">QIcon EditPaste</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00067">qeticons.cpp:67</a></div></div>
<div class="ttc" id="aclassQETDiagramEditor_html_abbfa920179fe7d449248664d5d2f6318"><div class="ttname"><a href="../../dd/d28/classQETDiagramEditor.html#abbfa920179fe7d449248664d5d2f6318">QETDiagramEditor::currentProjectView</a></div><div class="ttdeci">ProjectView * currentProjectView() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/qetdiagrameditor_8cpp_source.html#l01129">qetdiagrameditor.cpp:1129</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a0b68af39d79941702cf0be2dd9dc4039"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a0b68af39d79941702cf0be2dd9dc4039">DiagramView::editSelection</a></div><div class="ttdeci">void editSelection()</div><div class="ttdoc">DiagramView::editSelection Edit the selected item if he can be edited and if only one item is selecte...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01118">diagramview.cpp:1118</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a8a7c571545ee7f93dd2af778574e0697a50f987329bd6957b58b6084cba87c05f"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697a50f987329bd6957b58b6084cba87c05f">DiagramContent::AnyConductor</a></div><div class="ttdeci">@ AnyConductor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d67/diagramcontent_8h_source.html#l00061">diagramcontent.h:61</a></div></div>
<div class="ttc" id="aconductorcreator_8h_html"><div class="ttname"><a href="../../d4/d87/conductorcreator_8h.html">conductorcreator.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a40b76343432d9a9bd24bf80dd62612eb"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a40b76343432d9a9bd24bf80dd62612eb">DiagramView::gestureEvent</a></div><div class="ttdeci">bool gestureEvent(QGestureEvent *event)</div><div class="ttdoc">DiagramView::gestureEvent Use the pinch of the trackpad for zoom.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00616">diagramview.cpp:616</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a40fdb7d6378cd0b453455afe7e0afaef"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a40fdb7d6378cd0b453455afe7e0afaef">DiagramView::adjustGridToZoom</a></div><div class="ttdeci">void adjustGridToZoom()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00864">diagramview.cpp:864</a></div></div>
<div class="ttc" id="achangetitleblockcommand_8h_html"><div class="ttname"><a href="../../d2/d24/changetitleblockcommand_8h.html">changetitleblockcommand.h</a></div></div>
<div class="ttc" id="aclassElementsLocation_html_acfded834f9b1e5b0fc2b0933a107ff1e"><div class="ttname"><a href="../../d6/d3b/classElementsLocation.html#acfded834f9b1e5b0fc2b0933a107ff1e">ElementsLocation::exist</a></div><div class="ttdeci">bool exist() const</div><div class="ttdoc">ElementsLocation::exist.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfb/elementslocation_8cpp_source.html#l00472">elementslocation.cpp:472</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a75111e2faa3b4e7c1c1ce60c8908430c"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a75111e2faa3b4e7c1c1ce60c8908430c">DiagramView::m_paste_here_pos</a></div><div class="ttdeci">QPoint m_paste_here_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00055">diagramview.h:55</a></div></div>
<div class="ttc" id="aqeticons_8h_html"><div class="ttname"><a href="../../df/dea/qeticons_8h.html">qeticons.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a2b6475f725358074f74fdc8d04acbe1b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a2b6475f725358074f74fdc8d04acbe1b">DiagramView::cut</a></div><div class="ttdeci">void cut()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00343">diagramview.cpp:343</a></div></div>
<div class="ttc" id="aclassQetGraphicsItem_html"><div class="ttname"><a href="../../d1/d9e/classQetGraphicsItem.html">QetGraphicsItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8e/qetgraphicsitem_8h_source.html#l00026">qetgraphicsitem.h:27</a></div></div>
<div class="ttc" id="aclassDiagramPropertiesDialog_html_ad34456eda4527e714b1bcac65e51ec26"><div class="ttname"><a href="../../d1/dea/classDiagramPropertiesDialog.html#ad34456eda4527e714b1bcac65e51ec26">DiagramPropertiesDialog::diagramPropertiesDialog</a></div><div class="ttdeci">static void diagramPropertiesDialog(Diagram *diagram, QWidget *parent=nullptr)</div><div class="ttdoc">DiagramPropertiesDialog::diagramPropertiesDialog Static method to get a DiagramPropertiesDialog.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d60/diagrampropertiesdialog_8cpp_source.html#l00129">diagrampropertiesdialog.cpp:129</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a278da70e11e9a9db67db1bcdcf0f69f0"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a278da70e11e9a9db67db1bcdcf0f69f0">DiagramContent::items</a></div><div class="ttdeci">QList&lt; QGraphicsItem * &gt; items(int=All) const</div><div class="ttdoc">DiagramContent::items.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/diagramcontent_8cpp_source.html#l00374">diagramcontent.cpp:374</a></div></div>
<div class="ttc" id="aclassDiagram_html_a8a2a4a08dce92d0eed86f94077e9cc84"><div class="ttname"><a href="../../da/d91/classDiagram.html#a8a2a4a08dce92d0eed86f94077e9cc84">Diagram::project</a></div><div class="ttdeci">QETProject * project() const</div><div class="ttdoc">Diagram::project.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l02326">diagram.cpp:2326</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a586c79bc3e00a1fe0aaecf6df7de606b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a586c79bc3e00a1fe0aaecf6df7de606b">DiagramView::m_first_activation</a></div><div class="ttdeci">bool m_first_activation</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00058">diagramview.h:58</a></div></div>
<div class="ttc" id="aclassDiagramView_html"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html">DiagramView</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00037">diagramview.h:38</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ac59dfc5a83f6e86696bdb4301488713a"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ac59dfc5a83f6e86696bdb4301488713a">DiagramView::selectInvert</a></div><div class="ttdeci">void selectInvert()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00136">diagramview.cpp:136</a></div></div>
<div class="ttc" id="aclassConductorCreator_html_ab7493f92cdc329f0f305ff581a473ae9"><div class="ttname"><a href="../../d6/d5f/classConductorCreator.html#ab7493f92cdc329f0f305ff581a473ae9">ConductorCreator::create</a></div><div class="ttdeci">static void create(Diagram *d, const QPolygonF &amp;polygon)</div><div class="ttdoc">ConductorCreator::create Create an electrical potential between the terminals of the diagram d,...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df6/conductorcreator_8cpp_source.html#l00077">conductorcreator.cpp:77</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a79e13f1d3416ac401f2007cbc19b0ec6"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a79e13f1d3416ac401f2007cbc19b0ec6">DiagramView::mouseMoveEvent</a></div><div class="ttdeci">void mouseMoveEvent(QMouseEvent *) override</div><div class="ttdoc">DiagramView::mouseMoveEvent Manage the event move mouse.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00455">diagramview.cpp:455</a></div></div>
<div class="ttc" id="adiagramview_8h_html"><div class="ttname"><a href="../../db/db2/diagramview_8h.html">diagramview.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_adb4ffb10a7a7ecdb3a5979a96ed55f91"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#adb4ffb10a7a7ecdb3a5979a96ed55f91">DiagramView::keyPressEvent</a></div><div class="ttdeci">void keyPressEvent(QKeyEvent *) override</div><div class="ttdoc">DiagramView::keyPressEvent Handles &quot;key press&quot; events. Reimplemented here to switch to visualisation ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00649">diagramview.cpp:649</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a8a7c571545ee7f93dd2af778574e0697a6992d2d4f6cbb53103beeb07582c2e01"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697a6992d2d4f6cbb53103beeb07582c2e01">DiagramContent::SelectedOnly</a></div><div class="ttdeci">@ SelectedOnly</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d67/diagramcontent_8h_source.html#l00067">diagramcontent.h:66</a></div></div>
<div class="ttc" id="aclassDiagram_html_a016f54253c225274892e27f6a0740f26"><div class="ttname"><a href="../../da/d91/classDiagram.html#a016f54253c225274892e27f6a0740f26">Diagram::setDisplayGrid</a></div><div class="ttdeci">void setDisplayGrid(bool)</div><div class="ttdoc">Diagram::setDisplayGrid Set whether the diagram grid should be drawn.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1b/diagram_8h_source.html#l00333">diagram.h:333</a></div></div>
<div class="ttc" id="aclassBorderTitleBlock_html_ae2cceee63398666fe35cfbd9b6f4fcb3"><div class="ttname"><a href="../../db/d24/classBorderTitleBlock.html#ae2cceee63398666fe35cfbd9b6f4fcb3">BorderTitleBlock::columnsRect</a></div><div class="ttdeci">QRectF columnsRect() const</div><div class="ttdoc">BorderTitleBlock::columnsRect.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/bordertitleblock_8cpp_source.html#l00143">bordertitleblock.cpp:143</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a33433edeba5640a48a04cd4752b08109"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a33433edeba5640a48a04cd4752b08109">DiagramView::zoomContent</a></div><div class="ttdeci">void zoomContent()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00327">diagramview.cpp:327</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a65f648574976d628b025074e850f5a9b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a65f648574976d628b025074e850f5a9b">DiagramView::m_drag_last_pos</a></div><div class="ttdeci">QPointF m_drag_last_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00056">diagramview.h:56</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aad84adb563915d0aabf045fa51b7b443"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aad84adb563915d0aabf045fa51b7b443">DiagramView::event</a></div><div class="ttdeci">bool event(QEvent *) override</div><div class="ttdoc">DiagramView::event Manage the event on this diagram view. -At first activation (QEvent::WindowActivat...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01006">diagramview.cpp:1006</a></div></div>
<div class="ttc" id="aclassTitleBlockProperties_html_aaf609ab92cbd58956f742bc6cff77a2e"><div class="ttname"><a href="../../d8/d40/classTitleBlockProperties.html#aaf609ab92cbd58956f742bc6cff77a2e">TitleBlockProperties::template_name</a></div><div class="ttdeci">QString template_name</div><div class="ttdoc">Name of the template used to render the title block - an empty string means &quot;the default template pro...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/titleblockproperties_8h_source.html#l00065">titleblockproperties.h:65</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a925510992ae056b77312bca105cf61c3"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a925510992ae056b77312bca105cf61c3">DiagramView::updateWindowTitle</a></div><div class="ttdeci">void updateWindowTitle()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00857">diagramview.cpp:857</a></div></div>
<div class="ttc" id="aclassDiagram_html_a78aef560f1bece3ef45a24ae59394f39"><div class="ttname"><a href="../../da/d91/classDiagram.html#a78aef560f1bece3ef45a24ae59394f39">Diagram::setEventInterface</a></div><div class="ttdeci">void setEventInterface(DiagramEventInterface *event_interface)</div><div class="ttdoc">Diagram::setEventInterface Set event_interface has current interface. Diagram become the ownership of...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l00531">diagram.cpp:531</a></div></div>
<div class="ttc" id="aclassTitleBlockTemplateLocation_html_a97382fc9bee1bd7a1bb5acfeba54b15c"><div class="ttname"><a href="../../d2/d69/classTitleBlockTemplateLocation.html#a97382fc9bee1bd7a1bb5acfeba54b15c">TitleBlockTemplateLocation::fromString</a></div><div class="ttdeci">void fromString(const QString &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5b/templatelocation_8cpp_source.html#l00094">templatelocation.cpp:94</a></div></div>
<div class="ttc" id="aconductor_8h_html_ae0511082eaa876e0d6b6d88367998be8"><div class="ttname"><a href="../../d7/d0f/conductor_8h.html#ae0511082eaa876e0d6b6d88367998be8">ConductorProfilesGroup</a></div><div class="ttdeci">QHash&lt; Qt::Corner, ConductorProfile &gt; ConductorProfilesGroup</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0f/conductor_8h_source.html#l00037">conductor.h:37</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a22f242c4ea8317aacd5dbaa70965d6bd"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a22f242c4ea8317aacd5dbaa70965d6bd">DiagramView::mustIntegrateTitleBlockTemplate</a></div><div class="ttdeci">bool mustIntegrateTitleBlockTemplate(const TitleBlockTemplateLocation &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00896">diagramview.cpp:896</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a14487c53fbccfca6897d7c211992006f"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a14487c53fbccfca6897d7c211992006f">DiagramView::~DiagramView</a></div><div class="ttdeci">~DiagramView() override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00116">diagramview.cpp:116</a></div></div>
<div class="ttc" id="aclassDiagram_html_ad1ca657daa905b0d10529326148e4546"><div class="ttname"><a href="../../da/d91/classDiagram.html#ad1ca657daa905b0d10529326148e4546">Diagram::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Diagram::isEmpty An empty schema contains no element, conductor, or text field.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l00680">diagram.cpp:680</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_a0d92d09f82141d76f8df5640911f7aa1"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#a0d92d09f82141d76f8df5640911f7aa1">DVEventInterface::KeyReleaseEvent</a></div><div class="ttdeci">virtual bool KeyReleaseEvent(QKeyEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00078">dveventinterface.cpp:78</a></div></div>
<div class="ttc" id="aqpropertyundocommand_8h_html"><div class="ttname"><a href="../../d0/d34/qpropertyundocommand_8h.html">qpropertyundocommand.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aad37f24af2dcab17739c45e178e86031"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aad37f24af2dcab17739c45e178e86031">DiagramView::selectAll</a></div><div class="ttdeci">void selectAll()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00122">diagramview.cpp:122</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aa96c2929ff8f9f9fb2281a263e730a18"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aa96c2929ff8f9f9fb2281a263e730a18">DiagramView::viewedSceneRect</a></div><div class="ttdeci">QRectF viewedSceneRect() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00875">diagramview.cpp:875</a></div></div>
<div class="ttc" id="adveventinterface_8h_html"><div class="ttname"><a href="../../d3/d33/dveventinterface_8h.html">dveventinterface.h</a></div></div>
<div class="ttc" id="aclassChangeTitleBlockCommand_html"><div class="ttname"><a href="../../df/d38/classChangeTitleBlockCommand.html">ChangeTitleBlockCommand</a></div><div class="ttdoc">The ChangeTitleBlockCommand class This command changes the title block properties for a particular di...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/changetitleblockcommand_8h_source.html#l00030">changetitleblockcommand.h:31</a></div></div>
<div class="ttc" id="aclassProjectView_html_ad29362a0a027124450b0d29b978d7863"><div class="ttname"><a href="../../db/dfc/classProjectView.html#ad29362a0a027124450b0d29b978d7863">ProjectView::changeLastTab</a></div><div class="ttdeci">void changeLastTab()</div><div class="ttdoc">change current diagramview to last tab</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db1/projectview_8cpp_source.html#l00175">projectview.cpp:175</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aa61282357b001c4066006f852e55fb1b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aa61282357b001c4066006f852e55fb1b">DiagramView::mouseDoubleClickEvent</a></div><div class="ttdeci">void mouseDoubleClickEvent(QMouseEvent *) override</div><div class="ttdoc">DiagramView::mouseDoubleClickEvent.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01242">diagramview.cpp:1242</a></div></div>
<div class="ttc" id="aqetproject_8h_html"><div class="ttname"><a href="../../d8/db4/qetproject_8h.html">qetproject.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ab8e67af0ea3bbb961474ffe5681cfdfc"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ab8e67af0ea3bbb961474ffe5681cfdfc">DiagramView::keyReleaseEvent</a></div><div class="ttdeci">void keyReleaseEvent(QKeyEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00734">diagramview.cpp:734</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ae5d0c6be0a49baf8d25116c53e58c2bc"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ae5d0c6be0a49baf8d25116c53e58c2bc">DiagramView::isCtrlShifting</a></div><div class="ttdeci">virtual bool isCtrlShifting(QInputEvent *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01087">diagramview.cpp:1087</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a2d49c88ee5e5f9a204d8a1f745af031a"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a2d49c88ee5e5f9a204d8a1f745af031a">DiagramView::resetConductors</a></div><div class="ttdeci">void resetConductors()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00973">diagramview.cpp:973</a></div></div>
<div class="ttc" id="aclassDiagram_html_afa19e2804536a0c6c0a7d81a17939704"><div class="ttname"><a href="../../da/d91/classDiagram.html#afa19e2804536a0c6c0a7d81a17939704">Diagram::margin</a></div><div class="ttdeci">static const qreal margin</div><div class="ttdoc">margin around the diagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1b/diagram_8h_source.html#l00097">diagram.h:97</a></div></div>
<div class="ttc" id="aclassBorderTitleBlock_html"><div class="ttname"><a href="../../db/d24/classBorderTitleBlock.html">BorderTitleBlock</a></div><div class="ttdoc">The BorderTitleBlock class This class represents the border and the titleblock which frame a particul...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9f/bordertitleblock_8h_source.html#l00036">bordertitleblock.h:37</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a779fa61e7d18ab01e3075921b3e7a4e0"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a779fa61e7d18ab01e3075921b3e7a4e0">DiagramView::switchToSelectionModeIfNeeded</a></div><div class="ttdeci">virtual bool switchToSelectionModeIfNeeded(QInputEvent *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01076">diagramview.cpp:1076</a></div></div>
<div class="ttc" id="aclassBorderTitleBlock_html_af7ff69f6cf7cceebed9457f86c7eafd7"><div class="ttname"><a href="../../db/d24/classBorderTitleBlock.html#af7ff69f6cf7cceebed9457f86c7eafd7">BorderTitleBlock::exportTitleBlock</a></div><div class="ttdeci">TitleBlockProperties exportTitleBlock()</div><div class="ttdoc">BorderTitleBlock::exportTitleBlock.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/bordertitleblock_8cpp_source.html#l00279">bordertitleblock.cpp:279</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aebfb945f49df29498a7be76fd43e014c"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aebfb945f49df29498a7be76fd43e014c">DiagramView::setSelectionMode</a></div><div class="ttdeci">void setSelectionMode()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00280">diagramview.cpp:280</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a76525bb80f3bbd565964a35e5246bfdb"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a76525bb80f3bbd565964a35e5246bfdb">DiagramView::titleChanged</a></div><div class="ttdeci">void titleChanged(DiagramView *, const QString &amp;)</div><div class="ttdoc">Signal emitted after the diagram title changed.</div></div>
<div class="ttc" id="aindependenttextitem_8h_html"><div class="ttname"><a href="../../d8/d9b/independenttextitem_8h.html">independenttextitem.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_af0b15d4c18556cc95be95cd828405441"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#af0b15d4c18556cc95be95cd828405441">DiagramView::m_multi_paste</a></div><div class="ttdeci">QAction * m_multi_paste</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00054">diagramview.h:54</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a77dfd05b914003b680de3568deefacca"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a77dfd05b914003b680de3568deefacca">DiagramView::editSelectedConductorColor</a></div><div class="ttdeci">void editSelectedConductorColor()</div><div class="ttdoc">DiagramView::editSelectedConductorColor Edit the color of the selected conductor; does nothing if mul...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00920">diagramview.cpp:920</a></div></div>
<div class="ttc" id="aclassDiagramView_html_afb724fdd7f9d94570e516a72c481c912"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#afb724fdd7f9d94570e516a72c481c912">DiagramView::freeRubberBandChanged</a></div><div class="ttdeci">void freeRubberBandChanged(QPolygonF polygon)</div></div>
<div class="ttc" id="aclassDiagramView_html_a530838f0dbecfbfa250d0bf4da6a201f"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a530838f0dbecfbfa250d0bf4da6a201f">DiagramView::m_fresh_focus_in</a></div><div class="ttdeci">bool m_fresh_focus_in</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00057">diagramview.h:57</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a27cc041a29a46579db9104e9c681fcf2"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a27cc041a29a46579db9104e9c681fcf2">DiagramView::showDiagram</a></div><div class="ttdeci">void showDiagram(Diagram *)</div><div class="ttdoc">Signal emmitted when diagram must be show.</div></div>
<div class="ttc" id="aclassDiagramView_html_a569ff5bb3e0a07e4e64761564c9e321d"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a569ff5bb3e0a07e4e64761564c9e321d">DiagramView::m_separators</a></div><div class="ttdeci">QList&lt; QAction * &gt; m_separators</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00059">diagramview.h:59</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a39272e0381fbee50c3ce89ad115e61b8"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a39272e0381fbee50c3ce89ad115e61b8">DiagramView::wheelEvent</a></div><div class="ttdeci">void wheelEvent(QWheelEvent *) override</div><div class="ttdoc">DiagramView::wheelEvent Manage wheel event of mouse.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00581">diagramview.cpp:581</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a607c91e35dfe86020fe8facd7aabc9ed"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a607c91e35dfe86020fe8facd7aabc9ed">DiagramView::contextMenuActions</a></div><div class="ttdeci">QList&lt; QAction * &gt; contextMenuActions() const</div><div class="ttdoc">DiagramView::contextMenuActions.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01152">diagramview.cpp:1152</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_a61ad1853266952cc2c95fc7d31d83e67"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#a61ad1853266952cc2c95fc7d31d83e67">DVEventInterface::finish</a></div><div class="ttdeci">void finish()</div><div class="ttdoc">finish emited when the interface finish is work</div></div>
<div class="ttc" id="aclassDiagramView_html_a693cda43ac88d056c78df1abd938a654"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a693cda43ac88d056c78df1abd938a654">DiagramView::handleTitleBlockDrop</a></div><div class="ttdeci">void handleTitleBlockDrop(QDropEvent *)</div><div class="ttdoc">DiagramView::handleTitleBlockDrop Handle the dropEvent that contain data of a titleblock.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00206">diagramview.cpp:206</a></div></div>
<div class="ttc" id="aelementfactory_8h_html"><div class="ttname"><a href="../../d8/d03/elementfactory_8h.html">elementfactory.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a5cf31c8d5d2f6fcdced2411da94346cc"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a5cf31c8d5d2f6fcdced2411da94346cc">DiagramView::pasteHere</a></div><div class="ttdeci">void pasteHere()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00390">diagramview.cpp:390</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a16ee5472d3b2d0a82d1790de9b2d7c3d"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a16ee5472d3b2d0a82d1790de9b2d7c3d">DiagramView::mouseReleaseEvent</a></div><div class="ttdeci">void mouseReleaseEvent(QMouseEvent *) override</div><div class="ttdoc">DiagramView::mouseReleaseEvent Manage event release click mouse.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00516">diagramview.cpp:516</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ac20650e20b53521d959aeee308629711"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ac20650e20b53521d959aeee308629711">DiagramView::dragMoveEvent</a></div><div class="ttdeci">void dragMoveEvent(QDragMoveEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00160">diagramview.cpp:160</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a6b047b2c7b957b925df37f8b52b25e62"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a6b047b2c7b957b925df37f8b52b25e62">DiagramView::gestures</a></div><div class="ttdeci">bool gestures() const</div><div class="ttdoc">DiagramView::gestures.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00570">diagramview.cpp:570</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a46ff138a4d563ab37600032acd475266"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a46ff138a4d563ab37600032acd475266">DiagramView::editElementRequired</a></div><div class="ttdeci">void editElementRequired(const ElementsLocation &amp;)</div><div class="ttdoc">Signal emitted when users wish to edit an element from the diagram.</div></div>
<div class="ttc" id="aclassConductorProperties_html_a66863b6082368ad72bc2f593774787d5"><div class="ttname"><a href="../../d4/d0b/classConductorProperties.html#a66863b6082368ad72bc2f593774787d5">ConductorProperties::color</a></div><div class="ttdeci">QColor color</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d97/conductorproperties_8h_source.html#l00085">conductorproperties.h:85</a></div></div>
<div class="ttc" id="aintegrationmovetemplateshandler_8h_html"><div class="ttname"><a href="../../d0/db7/integrationmovetemplateshandler_8h.html">integrationmovetemplateshandler.h</a></div></div>
<div class="ttc" id="aclassTitleBlockTemplateLocation_html_a131c9cdffe2c74126efb079a82c8d53b"><div class="ttname"><a href="../../d2/d69/classTitleBlockTemplateLocation.html#a131c9cdffe2c74126efb079a82c8d53b">TitleBlockTemplateLocation::parentProject</a></div><div class="ttdeci">QETProject * parentProject() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5b/templatelocation_8cpp_source.html#l00116">templatelocation.cpp:116</a></div></div>
<div class="ttc" id="aclassBorderTitleBlock_html_ad02abd6c3e34df96d9d4b0c0fa108d24"><div class="ttname"><a href="../../db/d24/classBorderTitleBlock.html#ad02abd6c3e34df96d9d4b0c0fa108d24">BorderTitleBlock::rowsRect</a></div><div class="ttdeci">QRectF rowsRect() const</div><div class="ttdoc">BorderTitleBlock::rowsRect.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/bordertitleblock_8cpp_source.html#l00157">bordertitleblock.cpp:157</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aaafc031a8acad3902341476567b01a71"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aaafc031a8acad3902341476567b01a71">DiagramView::dropEvent</a></div><div class="ttdeci">void dropEvent(QDropEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00169">diagramview.cpp:169</a></div></div>
<div class="ttc" id="aclassQETProject_html"><div class="ttname"><a href="../../d1/d80/classQETProject.html">QETProject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db4/qetproject_8h_source.html#l00050">qetproject.h:51</a></div></div>
<div class="ttc" id="aclassDiagram_html"><div class="ttname"><a href="../../da/d91/classDiagram.html">Diagram</a></div><div class="ttdoc">The Diagram class This class represents an electric diagram. It manages its various child elements,...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1b/diagram_8h_source.html#l00055">diagram.h:56</a></div></div>
<div class="ttc" id="aqetdiagrameditor_8h_html"><div class="ttname"><a href="../../d0/db5/qetdiagrameditor_8h.html">qetdiagrameditor.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a8307296ac08dc844fc80e201351538f2"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a8307296ac08dc844fc80e201351538f2">DiagramView::setVisualisationMode</a></div><div class="ttdeci">void setVisualisationMode()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00270">diagramview.cpp:270</a></div></div>
<div class="ttc" id="aqetshapeitem_8h_html"><div class="ttname"><a href="../../d8/d42/qetshapeitem_8h.html">qetshapeitem.h</a></div></div>
<div class="ttc" id="aclassMultiPasteDialog_html"><div class="ttname"><a href="../../dd/d8d/classMultiPasteDialog.html">MultiPasteDialog</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/multipastedialog_8h_source.html#l00031">multipastedialog.h:32</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a09ee8115738f2dc87c45cce5bac5fabf"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a09ee8115738f2dc87c45cce5bac5fabf">DiagramView::selectNothing</a></div><div class="ttdeci">void selectNothing()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00129">diagramview.cpp:129</a></div></div>
<div class="ttc" id="aclassDiagram_html_acfcda4df4831d1ae62029d0046fd924a"><div class="ttname"><a href="../../da/d91/classDiagram.html#acfcda4df4831d1ae62029d0046fd924a">Diagram::border_and_titleblock</a></div><div class="ttdeci">BorderTitleBlock border_and_titleblock</div><div class="ttdoc">Diagram dimensions and title block.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1b/diagram_8h_source.html#l00083">diagram.h:83</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aafeddabb282d3214acac59e34662a4f8"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aafeddabb282d3214acac59e34662a4f8">DiagramView::editConductorColor</a></div><div class="ttdeci">void editConductorColor(Conductor *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00936">diagramview.cpp:936</a></div></div>
<div class="ttc" id="adynamicelementtextitem_8h_html"><div class="ttname"><a href="../../d8/d3b/dynamicelementtextitem_8h.html">dynamicelementtextitem.h</a></div></div>
<div class="ttc" id="aclassDiagram_html_a5ce477a5197fdfc394d662f8f71dc977"><div class="ttname"><a href="../../da/d91/classDiagram.html#a5ce477a5197fdfc394d662f8f71dc977">Diagram::adjustSceneRect</a></div><div class="ttdeci">void adjustSceneRect()</div><div class="ttdoc">Diagram::adjustSceneRect Recalcul and adjust the size of the scene.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l02166">diagram.cpp:2166</a></div></div>
<div class="ttc" id="atemplatelocation_8h_html"><div class="ttname"><a href="../../d3/d89/templatelocation_8h.html">templatelocation.h</a></div></div>
<div class="ttc" id="aclassDiagram_html_aadc97c48501180ecd35ce25a8ebf161d"><div class="ttname"><a href="../../da/d91/classDiagram.html#aadc97c48501180ecd35ce25a8ebf161d">Diagram::undoStack</a></div><div class="ttdeci">QUndoStack &amp; undoStack()</div><div class="ttdoc">Diagram::undoStack.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1b/diagram_8h_source.html#l00397">diagram.h:397</a></div></div>
<div class="ttc" id="aclassAddItemCommand_html"><div class="ttname"><a href="../../dd/d9a/classAddItemCommand.html">AddItemCommand</a></div><div class="ttdoc">The AddItemCommand class This command add an item in a diagram The item to add is template,...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8a/diagramcommands_8h_source.html#l00042">diagramcommands.h:42</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a69545c3ec624bc931c6a0bcfca0f7fa6"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a69545c3ec624bc931c6a0bcfca0f7fa6">DiagramContent::count</a></div><div class="ttdeci">int count(int=All) const</div><div class="ttdoc">DiagramContent::count.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/diagramcontent_8cpp_source.html#l00401">diagramcontent.cpp:401</a></div></div>
<div class="ttc" id="aclassTitleBlockProperties_html"><div class="ttname"><a href="../../d8/d40/classTitleBlockProperties.html">TitleBlockProperties</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/titleblockproperties_8h_source.html#l00029">titleblockproperties.h:29</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a52f7a1900c0141703effd269aed78e22"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a52f7a1900c0141703effd269aed78e22">DiagramView::editDiagramProperties</a></div><div class="ttdeci">void editDiagramProperties()</div><div class="ttdoc">DiagramView::editDiagramProperties Edit the properties of the viewed digram.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00829">diagramview.cpp:829</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a0173606076b8b846c8d74a4e089ca63b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a0173606076b8b846c8d74a4e089ca63b">DiagramView::m_event_interface</a></div><div class="ttdeci">DVEventInterface * m_event_interface</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00052">diagramview.h:52</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a7481a01ef93861ed1c182f20b86c8b73"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a7481a01ef93861ed1c182f20b86c8b73">DiagramView::selectedItemHasFocus</a></div><div class="ttdeci">virtual bool selectedItemHasFocus()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01106">diagramview.cpp:1106</a></div></div>
<div class="ttc" id="adiagrameventaddelement_8h_html"><div class="ttname"><a href="../../d4/d09/diagrameventaddelement_8h.html">diagrameventaddelement.h</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_ac28cfdf6aa5aa7dadc3d197258ecde67"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#ac28cfdf6aa5aa7dadc3d197258ecde67">DVEventInterface::mousePressEvent</a></div><div class="ttdeci">virtual bool mousePressEvent(QMouseEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00039">dveventinterface.cpp:39</a></div></div>
<div class="ttc" id="aconductorpropertieswidget_8h_html"><div class="ttname"><a href="../../da/d97/conductorpropertieswidget_8h.html">conductorpropertieswidget.h</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a8a7c571545ee7f93dd2af778574e0697ab411de5d015759a334572150466bedfa">DiagramContent::All</a></div><div class="ttdeci">@ All</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d67/diagramcontent_8h_source.html#l00065">diagramcontent.h:65</a></div></div>
<div class="ttc" id="aclassDiagramView_html_acdea1cd283d212668bf4d6af27230261"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#acdea1cd283d212668bf4d6af27230261">DiagramView::m_free_rubberbanding</a></div><div class="ttdeci">bool m_free_rubberbanding</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00061">diagramview.h:61</a></div></div>
<div class="ttc" id="aclassDiagramView_html_ae3f872a024f2a993d16fd8bac97eb476"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#ae3f872a024f2a993d16fd8bac97eb476">DiagramView::setEventInterface</a></div><div class="ttdeci">void setEventInterface(DVEventInterface *event_interface)</div><div class="ttdoc">DiagramView::setEventInterface Set an event interface to diagram view. If diagram view already have a...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l01140">diagramview.cpp:1140</a></div></div>
<div class="ttc" id="adeleteqgraphicsitemcommand_8h_html"><div class="ttname"><a href="../../d8/def/deleteqgraphicsitemcommand_8h.html">deleteqgraphicsitemcommand.h</a></div></div>
<div class="ttc" id="aclassDVEventInterface_html_ae18da40d7a8c0b43a4badd50ba588431"><div class="ttname"><a href="../../d9/db4/classDVEventInterface.html#ae18da40d7a8c0b43a4badd50ba588431">DVEventInterface::mouseMoveEvent</a></div><div class="ttdeci">virtual bool mouseMoveEvent(QMouseEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/dveventinterface_8cpp_source.html#l00044">dveventinterface.cpp:44</a></div></div>
<div class="ttc" id="adiagramimageitem_8h_html"><div class="ttname"><a href="../../d9/dbb/diagramimageitem_8h.html">diagramimageitem.h</a></div></div>
<div class="ttc" id="aclassDiagramEventAddElement_html"><div class="ttname"><a href="../../de/dd0/classDiagramEventAddElement.html">DiagramEventAddElement</a></div><div class="ttdoc">The DiagramEventAddElement class This diagram event add a new element, for each left click button at ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/diagrameventaddelement_8h_source.html#l00031">diagrameventaddelement.h:32</a></div></div>
<div class="ttc" id="anamespaceQET_1_1Icons_html_a8c345081e2742d22f960b499b8b3aaae"><div class="ttname"><a href="../../d1/d51/namespaceQET_1_1Icons.html#a8c345081e2742d22f960b499b8b3aaae">QET::Icons::QETLogo</a></div><div class="ttdeci">QIcon QETLogo</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3c/qeticons_8cpp_source.html#l00151">qeticons.cpp:151</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a2dae71bafe7eb796d00758dc7a937205"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a2dae71bafe7eb796d00758dc7a937205">DiagramView::m_diagram</a></div><div class="ttdeci">Diagram * m_diagram</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/diagramview_8h_source.html#l00051">diagramview.h:51</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a076d36fec97e0d42e06ef5b1daf9b199"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a076d36fec97e0d42e06ef5b1daf9b199">DiagramView::paste</a></div><div class="ttdeci">void paste(const QPointF &amp;=QPointF(), QClipboard::Mode=QClipboard::Clipboard)</div><div class="ttdoc">DiagramView::paste Import the element stored in the clipboard to the diagram.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00366">diagramview.cpp:366</a></div></div>
<div class="ttc" id="aclassDiagramContent_html_a469693789e1268cbfae9486b240da1a3"><div class="ttname"><a href="../../d1/d19/classDiagramContent.html#a469693789e1268cbfae9486b240da1a3">DiagramContent::conductors</a></div><div class="ttdeci">QList&lt; Conductor * &gt; conductors(int=AnyConductor) const</div><div class="ttdoc">DiagramContent::conductors.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d29/diagramcontent_8cpp_source.html#l00167">diagramcontent.cpp:167</a></div></div>
<div class="ttc" id="aclassDiagram_html_a3c47d70020b2c9ba2802c6b8e28d031e"><div class="ttname"><a href="../../da/d91/classDiagram.html#a3c47d70020b2c9ba2802c6b8e28d031e">Diagram::loadElmtFolioSeq</a></div><div class="ttdeci">void loadElmtFolioSeq()</div><div class="ttdoc">Diagram::loadElmtFolioSeq This class loads all folio sequential variables related to the current auto...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0d/diagram_8cpp_source.html#l01857">diagram.cpp:1857</a></div></div>
<div class="ttc" id="adiagram_8h_html"><div class="ttname"><a href="../../d9/d1b/diagram_8h.html">diagram.h</a></div></div>
<div class="ttc" id="aclassDiagramView_html_a6d1d7b0582bb4a690fb343ca043b137b"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#a6d1d7b0582bb4a690fb343ca043b137b">DiagramView::scrollOnMovement</a></div><div class="ttdeci">void scrollOnMovement(QKeyEvent *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00746">diagramview.cpp:746</a></div></div>
<div class="ttc" id="aclassConductor_html"><div class="ttname"><a href="../../d3/d84/classConductor.html">Conductor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0f/conductor_8h_source.html#l00042">conductor.h:43</a></div></div>
<div class="ttc" id="aclassBorderTitleBlock_html_adf35a4b1315de6d6efed2095a1f5ab60"><div class="ttname"><a href="../../db/d24/classBorderTitleBlock.html#adf35a4b1315de6d6efed2095a1f5ab60">BorderTitleBlock::titleBlockRect</a></div><div class="ttdeci">QRectF titleBlockRect() const</div><div class="ttdoc">BorderTitleBlock::titleBlockRect.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/bordertitleblock_8cpp_source.html#l00081">bordertitleblock.cpp:81</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aaf7d1f38234252ec46a4a8fc761d2538"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aaf7d1f38234252ec46a4a8fc761d2538">DiagramView::handleElementDrop</a></div><div class="ttdeci">void handleElementDrop(QDropEvent *)</div><div class="ttdoc">DiagramView::handleElementDrop Handle the drop of an element.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00185">diagramview.cpp:185</a></div></div>
<div class="ttc" id="aclassDiagramView_html_aa296adc4261aefbb5daddf33995dda88"><div class="ttname"><a href="../../d8/dfc/classDiagramView.html#aa296adc4261aefbb5daddf33995dda88">DiagramView::mousePressEvent</a></div><div class="ttdeci">void mousePressEvent(QMouseEvent *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da0/diagramview_8cpp_source.html#l00398">diagramview.cpp:398</a></div></div>
<div class="ttc" id="aclassIndependentTextItem_html"><div class="ttname"><a href="../../d1/de9/classIndependentTextItem.html">IndependentTextItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9b/independenttextitem_8h_source.html#l00027">independenttextitem.h:28</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
